<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Generic JS Plugin Demo â€¢ leaflethex</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha256-916EbMg70RQy9LHiGkXzG8hSg9EdNy97GazNG/aiY1w=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.7.1/css/all.min.css" integrity="sha256-nAmazAk6vS34Xqo0BSrTb+abbtFlgsFK7NKSi6o7Y78=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.7.1/css/v4-shims.min.css" integrity="sha256-6qHlizsOWFskGlwVOKuns+D1nB6ssZrHQrNj1wGplHc=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/headroom.min.js" integrity="sha256-DJFC1kqIhelURkuza0AvYal5RxMtpzLjFhsnVIeuk+U=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Generic JS Plugin Demo">
<meta property="og:description" content="">
<meta name="twitter:card" content="summary">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">leaflethex</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.1.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../articles/leaflethex.html">Get started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/Learning-leaflet.html">Hexbin Layer Demo</a>
    </li>
    <li>
      <a href="../articles/generic-demo.html">Generic JS Plugin Demo</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right"></ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><script src="generic-demo_files/htmlwidgets-1.3/htmlwidgets.js"></script><script src="generic-demo_files/jquery-1.12.4/jquery.min.js"></script><link href="generic-demo_files/leaflet-1.3.1/leaflet.css" rel="stylesheet">
<script src="generic-demo_files/leaflet-1.3.1/leaflet.js"></script><link href="generic-demo_files/leafletfix-1.0.0/leafletfix.css" rel="stylesheet">
<script src="generic-demo_files/Proj4Leaflet-1.0.1/proj4-compressed.js"></script><script src="generic-demo_files/Proj4Leaflet-1.0.1/proj4leaflet.js"></script><link href="generic-demo_files/rstudio_leaflet-1.3.1/rstudio_leaflet.css" rel="stylesheet">
<script src="generic-demo_files/leaflet-binding-2.0.2/leaflet.js"></script><link href="generic-demo_files/Some%20JS%20Plugin-1.0.0/hexbin.css" rel="stylesheet">
<script src="generic-demo_files/Some%20JS%20Plugin-1.0.0/deps.js"></script><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1>Generic JS Plugin Demo</h1>
            
      
      
      <div class="hidden name"><code>generic-demo.Rmd</code></div>

    </div>

    
    
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb1-1" data-line-number="1"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span>(leaflethex)</a>
<a class="sourceLine" id="cb1-2" data-line-number="2"><span class="co">#&gt; Loading required package: leaflet</span></a>
<a class="sourceLine" id="cb1-3" data-line-number="3"><span class="co">#&gt; Loading required package: htmltools</span></a>
<a class="sourceLine" id="cb1-4" data-line-number="4"><span class="co">#&gt; Loading required package: htmlwidgets</span></a></code></pre></div>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb2-1" data-line-number="1"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span>(leaflethex)</a>
<a class="sourceLine" id="cb2-2" data-line-number="2"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span>(tibble)</a>
<a class="sourceLine" id="cb2-3" data-line-number="3"></a>
<a class="sourceLine" id="cb2-4" data-line-number="4">df =<span class="st"> </span><span class="kw"><a href="https://tibble.tidyverse.org/reference/tibble.html">tibble</a></span>(</a>
<a class="sourceLine" id="cb2-5" data-line-number="5">  <span class="dt">lat =</span> <span class="kw"><a href="https://rdrr.io/r/stats/Normal.html">rnorm</a></span>(<span class="dv">100</span>),</a>
<a class="sourceLine" id="cb2-6" data-line-number="6">  <span class="dt">lng =</span> <span class="kw"><a href="https://rdrr.io/r/stats/Normal.html">rnorm</a></span>(<span class="dv">100</span>),</a>
<a class="sourceLine" id="cb2-7" data-line-number="7">  <span class="dt">size =</span> <span class="kw"><a href="https://rdrr.io/r/stats/Uniform.html">runif</a></span>(<span class="dv">100</span>, <span class="dv">5</span>, <span class="dv">20</span>),</a>
<a class="sourceLine" id="cb2-8" data-line-number="8">  <span class="dt">color =</span> <span class="kw"><a href="https://rdrr.io/r/base/sample.html">sample</a></span>(<span class="kw"><a href="https://rdrr.io/r/grDevices/colors.html">colors</a></span>(), <span class="dv">100</span>)</a>
<a class="sourceLine" id="cb2-9" data-line-number="9">)</a>
<a class="sourceLine" id="cb2-10" data-line-number="10">df2 &lt;-<span class="st"> </span><span class="kw"><a href="https://tibble.tidyverse.org/reference/tibble.html">tibble</a></span>(</a>
<a class="sourceLine" id="cb2-11" data-line-number="11">  <span class="dt">lat =</span>  <span class="fl">42.9634</span> <span class="op">+</span><span class="st"> </span>stats<span class="op">::</span><span class="kw"><a href="https://rdrr.io/r/stats/Normal.html">rnorm</a></span>(<span class="dv">100</span>),</a>
<a class="sourceLine" id="cb2-12" data-line-number="12">  <span class="dt">lng =</span> <span class="fl">-85.6681</span> <span class="op">+</span><span class="st"> </span>stats<span class="op">::</span><span class="kw"><a href="https://rdrr.io/r/stats/Normal.html">rnorm</a></span>(<span class="dv">100</span>),</a>
<a class="sourceLine" id="cb2-13" data-line-number="13">  <span class="dt">size =</span> <span class="kw"><a href="https://rdrr.io/r/stats/Uniform.html">runif</a></span>(<span class="dv">100</span>, <span class="dv">5</span>, <span class="dv">20</span>),</a>
<a class="sourceLine" id="cb2-14" data-line-number="14">  <span class="dt">color =</span> <span class="kw"><a href="https://rdrr.io/r/base/sample.html">sample</a></span>(<span class="kw"><a href="https://rdrr.io/r/grDevices/colors.html">colors</a></span>(), <span class="dv">100</span>)</a>
<a class="sourceLine" id="cb2-15" data-line-number="15">)</a>
<a class="sourceLine" id="cb2-16" data-line-number="16">addJS &lt;-<span class="st"> </span></a>
<a class="sourceLine" id="cb2-17" data-line-number="17"><span class="st">  </span><span class="kw"><a href="../reference/pluginFactory.html">pluginFactory</a></span>(</a>
<a class="sourceLine" id="cb2-18" data-line-number="18">    <span class="st">"Some JS Plugin"</span>, </a>
<a class="sourceLine" id="cb2-19" data-line-number="19">    <span class="kw"><a href="https://rdrr.io/r/base/system.file.html">system.file</a></span>(<span class="st">"js"</span>, <span class="st">""</span>, <span class="dt">package =</span> <span class="st">"leaflethex"</span>), <span class="st">"hexbin.js"</span>, <span class="st">"deps.js"</span>, <span class="dt">stylesheet=</span><span class="st">"hexbin.css"</span>)</a>
<a class="sourceLine" id="cb2-20" data-line-number="20"></a>
<a class="sourceLine" id="cb2-21" data-line-number="21"><span class="kw">leaflet</span>(df2, <span class="dt">width =</span> <span class="dv">600</span>, <span class="dt">height =</span> <span class="dv">300</span>) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb2-22" data-line-number="22"><span class="st">  </span><span class="kw">addTiles</span>() <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb2-23" data-line-number="23"><span class="st">  </span><span class="kw">addCircles</span>(<span class="dt">color =</span> <span class="st">"red"</span>) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb2-24" data-line-number="24"><span class="st">  </span><span class="kw">addJS</span>(<span class="dt">radius =</span> <span class="dv">20</span>, <span class="dt">highEndColor =</span> <span class="st">"yellow"</span>)</a>
<a class="sourceLine" id="cb2-25" data-line-number="25"><span class="co">#&gt; Assuming "lng" and "lat" are longitude and latitude, respectively</span></a></code></pre></div>
<div id="htmlwidget-5bebece0513f56a282f2" style="width:600px;height:300px;" class="leaflet html-widget"></div>
<script type="application/json" data-for="htmlwidget-5bebece0513f56a282f2">{"x":{"options":{"crs":{"crsClass":"L.CRS.EPSG3857","code":null,"proj4def":null,"projectedBounds":null,"options":{}}},"calls":[{"method":"addTiles","args":["//{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",null,null,{"minZoom":0,"maxZoom":18,"tileSize":256,"subdomains":"abc","errorTileUrl":"","tms":false,"noWrap":false,"zoomOffset":0,"zoomReverse":false,"opacity":1,"zIndex":1,"detectRetina":false,"attribution":"&copy; <a href=\"http://openstreetmap.org\">OpenStreetMap<\/a> contributors, <a href=\"http://creativecommons.org/licenses/by-sa/2.0/\">CC-BY-SA<\/a>"}]},{"method":"addCircles","args":[[42.8070693415533,43.5542886042654,42.1719531860016,44.4939361644114,42.7625630712566,43.0863160055083,42.0268225437499,42.3204521883998,42.6357356569018,43.3776118913152,42.6640559670482,43.7410233934117,42.9060432273181,41.8602083123373,44.4262558339931,43.0995475653524,42.8470384246853,41.4437782349292,41.7617919341102,42.3010868213936,41.9683218882591,43.2137929624743,43.1583463590161,44.1646042746423,41.4181059126999,43.0293431108463,44.028753666804,42.8081060701684,42.9563453191767,43.0288867741832,44.9203765531081,41.2605650438216,43.3482919750567,43.7275242701588,41.9934002130147,45.0105233065579,43.864247062787,44.0871440363434,43.4862570663075,42.8932789998862,44.4813581340197,43.2371259434992,42.726624665241,41.8839585829631,41.803904092495,42.1575764570253,44.0105663251466,44.6259523077697,42.0534848906424,43.7351393963362,42.5761282094463,42.8860203748456,44.0279270883105,43.0972883230756,45.2177301864665,44.0881795194351,43.8396247872737,43.9698374478871,42.84993801451,42.8653888813178,42.2333711848509,43.9724373734019,43.5626969397081,44.7376709154574,44.6896009158692,43.3624785660514,44.1008530999352,44.5504197314464,43.2571590127916,43.0728839160799,43.1268076188162,43.7466921591928,42.5151379927271,42.187570603586,43.2789209085157,43.0822828724227,44.1836804063695,42.3475489063986,42.5585262143105,42.0517480434448,43.7008684590357,41.7283780196645,42.8273429409485,43.7271762702684,43.4049603777605,41.3237659483274,42.4077423769812,42.3471922872868,42.6021101894045,43.6856215304963,42.3671232807655,40.0566832311991,43.7995006628485,42.6721334360431,42.4830660033087,42.069500830363,43.8935523746889,42.0164037171445,40.6508873134076,43.0519949922227],[-83.9962759605492,-84.5393552336136,-84.8092354446755,-85.321624106821,-83.2258723289374,-86.2896970126646,-88.0412315970284,-86.0328485617809,-86.8861854064472,-86.3088392057928,-87.3903880447321,-87.5700484401412,-84.5726962457968,-86.923171748413,-84.9186431064647,-86.0493697793675,-85.6491127186668,-86.7245904025693,-86.8382379659043,-84.8050410150442,-85.2644262585366,-87.1146276745223,-84.5820303058807,-85.3630000703977,-85.6185386717035,-85.4986953687138,-85.3697649028018,-87.4708197426049,-86.4242086200158,-84.8485345857087,-86.2068081727489,-84.1170225869123,-86.7969460913339,-86.097917145125,-83.3089005717585,-85.4569384179183,-87.1926856373545,-85.4924551320028,-86.7332968784484,-85.1414458357144,-85.1385141387617,-84.8099306703851,-84.8583054941943,-84.7412295688118,-86.3301446789822,-85.7982447947096,-85.4691308176349,-87.612816262954,-86.7991299902392,-85.2427491906062,-85.8264962951524,-87.3004913217075,-84.1325542932711,-86.3017249866646,-85.8082898127342,-85.1407414318331,-85.7342354693848,-87.2863973600854,-86.2737646165496,-86.9329048682719,-84.7302546366975,-85.4886390531742,-84.9811858579105,-85.1065519799459,-84.9610718702607,-85.5055084522046,-85.4103728028914,-85.0856592364936,-85.8576734414567,-87.1510174757943,-86.7423868256999,-84.1808310351633,-85.2076125388791,-85.0799487808278,-87.2075634035788,-85.8134052142127,-85.360693825728,-85.3192394383883,-82.6526918231481,-87.5935739935595,-86.3162788562901,-85.374648013915,-84.9712582013849,-87.081089889266,-85.9659064397539,-84.0680500250729,-85.2669405516834,-84.1645879344248,-85.8552114310532,-85.2242586426936,-86.8527425832787,-84.6809327395478,-86.606685014817,-83.420552526014,-86.2394859044569,-86.572592906372,-83.4472297073747,-85.5154737633721,-86.8068737733352,-86.8735483763733],10,null,null,{"interactive":true,"className":"","stroke":true,"color":"red","weight":5,"opacity":0.5,"fill":true,"fillColor":"red","fillOpacity":0.2},null,null,null,{"interactive":false,"permanent":false,"direction":"auto","opacity":1,"offset":[0,0],"textsize":"10px","textOnly":false,"className":"","sticky":true},null,null]}],"limits":{"lat":[40.0566832311991,45.2177301864665],"lng":[-88.0412315970284,-82.6526918231481]}},"evals":[],"jsHooks":{"render":[{"code":"function(el, x, data) {\n  return (function(el, x, data = null) {\n\n  // Built-in Summary Functions\n  var summaryFunctions = [\"count\", \"sum\", \"max\", \"min\", \"mean\", \"median\"];\n\n  // Utility function for saving defaults for data parameters\n  var param = function(name, defaultValue) { return { name: name, defaultValue : defaultValue}  };\n\n  // Create a list of accepted parameters to this script\n  var parameters = [\n    param(\"radius\", 12),\n    param(\"opacity\", 0.5),\n    param(\"duration\", 500),\n    param(\"lowEndColor\", 'white'),\n    param(\"highEndColor\", 'blue'),\n    param(\"uniformSize\", false),\n    param(\"uniformColor\", 'blue'),\n    param(\"sizeSummaryFunction\", \"count\"),\n    param(\"colorSummaryFunction\", \"count\"),\n    param(\"sizevar\", undefined),\n    param(\"colorvar\", undefined)\n  ];\n\n  // Function to build the options object for later use\n  var buildOptions = function() {\n\n    // Initialize the object that will be filled and returned\n    var result = {};\n\n    // Create options object with given values or default values if none are provided\n    parameters.forEach(entry => {\n      var parameterValue = data[entry.name];\n      if(parameterValue !== undefined && parameterValue !== null) {\n        result[entry.name] = parameterValue;\n      } else {\n        result[entry.name] = entry.defaultValue;\n      }\n    });\n    // if no colorvar is set, then mirror with sizevar\n    if (result.colorvar === undefined) {\n      result.colorvar = result.sizevar;\n    }\n    // Return options chosen by the user plus defaults for unchosen fields\n    return result;\n  };\n  // Set Options based on parameters given by the data parameters\n  var options = buildOptions();\n\n\n  // Builds a function to calculate per hexagon from the function name\n  // or valid js string and variable name to use\n  var buildSumFunction = function(functionToUse, variableToUse, variableType) {\n    var retFunction;\n    var count = dataPointsPerHex => dataPointsPerHex.length;\n    // Default to using count\n    if(functionToUse == \"count\" || variableToUse === undefined) return count;\n    if(!summaryFunctions.includes(functionToUse)) {\n      console.warn(\"Using Custom Function as no supported functions were matched\");\n      // User defined function\n      retFunction = Function('\"use strict\";return (' + functionToUse + ')');\n    } else {\n      retFunction = function(dataPointsPerHex) {\n        // Set the inital value for the result\n        var result = 0;\n        if(functionToUse == \"max\") result = Number.MIN_VALUE;\n        if(functionToUse == \"min\") result = Number.MAX_VALUE;\n        if(functionToUse == \"sum\") result = 0;\n\n        console.log(dataPointsPerHex.length);\n        if(functionToUse == \"median\") {\n          var values = dataPointsPerHex.map(point => point.o[2][variableToUse]);\n          if(values.length < 3) {\n            if(values.length == 1) result = values[0];\n            else if(values.length == 0) result = 0;\n            else result = (values[0] + values[1]) / 2;\n          } else {\n            values.sort((a, b) => a - b);\n            var index = (values.length + 1) / 2;\n            if(Number.isInteger(index)) {\n              result = values[index];\n            } else {\n              result = (values[Math.floor(index)] + values[Math.ceil(index)]) / 2;\n            }\n          }\n\n        } else {\n          dataPointsPerHex.forEach(point => {\n            var value = point.o[2][variableToUse];\n            if(functionToUse == \"mean\") result += value;\n            if(functionToUse == \"sum\") result += value;\n            if(functionToUse == \"max\") result = result > value ? result : value;\n            if(functionToUse == \"min\") result = result < value ? result : value;\n          });\n          if(functionToUse == \"mean\") result /= dataPointsPerHex.length;\n          if(variableType == \"size\") result = scaleFunctions[variableToUse](result);\n        }\n        return result;\n      };\n      return retFunction;\n    }\n  };\n\n  // Add Options to hexlayer\n  var hexLayer = L.hexbinLayer(options).addTo(this);\n\n  // Add ColorScale\n  var colorScale = [options.lowEndColor, options.highEndColor];\n  if(data.uniformColor !== null && data.uniformColor !== undefined) {\n    colorScale = [data.uniformColor, data.uniformColor];\n  }\n  hexLayer.colorScale().range(colorScale);\n\n  // Set Radius range based on radius given through data parameter\n  var largestRadius = options.radius - 1 / options.radius; // 1/radius is a small buffer between hexagons\n  var smallestRadius = options.radius / 2;\n  if(options.uniformSize) smallestRadius = largestRadius;\n  var radRange = [ smallestRadius, largestRadius ];\n\n  // Add Data to the Hex Layer\n  var hexData = [];\n\n  // Check if variable is an array with the same length as the latitute and longitude arrays\n  var variableIsCompatible = entry => Array.isArray(entry) && entry.length == data.mapData.lat.length;\n  var scaleFunctions = {};\n  // Find any variables that may be involved in the hexbin\n  var auxData = Object.assign({}, data.mapData);\n  Object.keys(auxData).forEach(key => {\n    if(key == \"lat\" || key == \"lng\") {\n      delete auxData[key];\n    } else if(variableIsCompatible(auxData[key])) {\n      var array = auxData[key];\n      var min = Math.min(...array);\n      var max = Math.max(...array);\n      var radSizeRange = (largestRadius - smallestRadius);\n      var variableRange = (max - min);\n      scaleFunctions[key] = function(variableValue) {\n        return (((variableValue - min) * radSizeRange) / variableRange) + smallestRadius;\n      };\n    } else {\n      delete auxData[key];\n    }\n  });\n\n  for(i=0; i< data.mapData.lat.length; i++){\n    var tuple = [data.mapData.lat[i], data.mapData.lng[i]];\n    hexData.push(tuple);\n  }\n  if(auxData !== undefined) {\n    for(i=0; i < hexData.length; i++) {\n      var extraVarContainer = {};\n      if(options.sizevar !== undefined) {\n        extraVarContainer[options.sizevar] = auxData[options.sizevar][i];\n      }\n      if(options.colorvar !== undefined) {\n        extraVarContainer[options.colorvar] = auxData[options.colorvar][i];\n      }\n      hexData[i].push(extraVarContainer);\n    }\n  }\n  // hexData is now an Array of arrays (Matrix)\n  // 0: [lat0, lng0, somevariable0, anothervariable0]\n  // 1: [lat1, lng1, somevariable1, anothervariable1]\n  // ...\n\n  // Create Hex Layer\n  hexLayer\n  .radiusRange(radRange)\n  .lat(function(d) { return d[0]; })\n  .lng(function(d) { return d[1]; })\n  .colorValue(buildSumFunction(options.colorSummaryFunction, options.colorvar, \"color\"))\n  .radiusValue(buildSumFunction(options.sizeSummaryFunction, options.sizevar, \"size\")) // Choose summary function based off of parameter inside the data object\n  .data(hexData);\n\n\n  // Zoom in to fit the data in the screen\n  this.fitBounds(hexData);\n\n}).call(this.getMap(), el, x, data);\n}","data":{"radius":20,"highEndColor":"yellow","mapData":{"lat":[42.8070693415533,43.5542886042654,42.1719531860016,44.4939361644114,42.7625630712566,43.0863160055083,42.0268225437499,42.3204521883998,42.6357356569018,43.3776118913152,42.6640559670482,43.7410233934117,42.9060432273181,41.8602083123373,44.4262558339931,43.0995475653524,42.8470384246853,41.4437782349292,41.7617919341102,42.3010868213936,41.9683218882591,43.2137929624743,43.1583463590161,44.1646042746423,41.4181059126999,43.0293431108463,44.028753666804,42.8081060701684,42.9563453191767,43.0288867741832,44.9203765531081,41.2605650438216,43.3482919750567,43.7275242701588,41.9934002130147,45.0105233065579,43.864247062787,44.0871440363434,43.4862570663075,42.8932789998862,44.4813581340197,43.2371259434992,42.726624665241,41.8839585829631,41.803904092495,42.1575764570253,44.0105663251466,44.6259523077697,42.0534848906424,43.7351393963362,42.5761282094463,42.8860203748456,44.0279270883105,43.0972883230756,45.2177301864665,44.0881795194351,43.8396247872737,43.9698374478871,42.84993801451,42.8653888813178,42.2333711848509,43.9724373734019,43.5626969397081,44.7376709154574,44.6896009158692,43.3624785660514,44.1008530999352,44.5504197314464,43.2571590127916,43.0728839160799,43.1268076188162,43.7466921591928,42.5151379927271,42.187570603586,43.2789209085157,43.0822828724227,44.1836804063695,42.3475489063986,42.5585262143105,42.0517480434448,43.7008684590357,41.7283780196645,42.8273429409485,43.7271762702684,43.4049603777605,41.3237659483274,42.4077423769812,42.3471922872868,42.6021101894045,43.6856215304963,42.3671232807655,40.0566832311991,43.7995006628485,42.6721334360431,42.4830660033087,42.069500830363,43.8935523746889,42.0164037171445,40.6508873134076,43.0519949922227],"lng":[-83.9962759605492,-84.5393552336136,-84.8092354446755,-85.321624106821,-83.2258723289374,-86.2896970126646,-88.0412315970284,-86.0328485617809,-86.8861854064472,-86.3088392057928,-87.3903880447321,-87.5700484401412,-84.5726962457968,-86.923171748413,-84.9186431064647,-86.0493697793675,-85.6491127186668,-86.7245904025693,-86.8382379659043,-84.8050410150442,-85.2644262585366,-87.1146276745223,-84.5820303058807,-85.3630000703977,-85.6185386717035,-85.4986953687138,-85.3697649028018,-87.4708197426049,-86.4242086200158,-84.8485345857087,-86.2068081727489,-84.1170225869123,-86.7969460913339,-86.097917145125,-83.3089005717585,-85.4569384179183,-87.1926856373545,-85.4924551320028,-86.7332968784484,-85.1414458357144,-85.1385141387617,-84.8099306703851,-84.8583054941943,-84.7412295688118,-86.3301446789822,-85.7982447947096,-85.4691308176349,-87.612816262954,-86.7991299902392,-85.2427491906062,-85.8264962951524,-87.3004913217075,-84.1325542932711,-86.3017249866646,-85.8082898127342,-85.1407414318331,-85.7342354693848,-87.2863973600854,-86.2737646165496,-86.9329048682719,-84.7302546366975,-85.4886390531742,-84.9811858579105,-85.1065519799459,-84.9610718702607,-85.5055084522046,-85.4103728028914,-85.0856592364936,-85.8576734414567,-87.1510174757943,-86.7423868256999,-84.1808310351633,-85.2076125388791,-85.0799487808278,-87.2075634035788,-85.8134052142127,-85.360693825728,-85.3192394383883,-82.6526918231481,-87.5935739935595,-86.3162788562901,-85.374648013915,-84.9712582013849,-87.081089889266,-85.9659064397539,-84.0680500250729,-85.2669405516834,-84.1645879344248,-85.8552114310532,-85.2242586426936,-86.8527425832787,-84.6809327395478,-86.606685014817,-83.420552526014,-86.2394859044569,-86.572592906372,-83.4472297073747,-85.5154737633721,-86.8068737733352,-86.8735483763733],"size":[7.80868856003508,5.85336916847154,6.54101353371516,11.9253929995466,8.15081050153822,10.0451507128309,8.30401053768583,14.5047363964841,7.47328814701177,12.2546909924131,5.04438216332346,5.51189004909247,7.05452262074687,6.83076146407984,12.9780201823451,15.8870400080923,8.57966721756384,12.2245242330246,14.644351756433,6.35518965660594,6.78113590343855,16.301871543983,13.7916916026734,8.17200027755462,10.8415119489655,15.9170118218753,11.3874617253896,19.2056337022223,16.2328085943591,14.9334812734742,10.0862485636026,6.9437263533473,7.54370395326987,18.2290829427075,5.99991656141356,11.5366797044408,6.09235915006138,18.6460094584618,15.4799000138883,12.6340295304544,18.1730760540813,7.17743729706854,16.7826455202885,16.1306109651923,9.8384253308177,19.0976049995515,19.135143548483,14.4172698678449,5.31941309571266,8.21594211505726,6.87813762924634,6.32420344743878,18.0833086930215,9.29368676384911,17.9171292483807,19.7007962875068,19.2898866755422,19.8813146923203,7.16284646769054,19.5458867272828,14.1232485463843,11.3089439261239,6.04239263455383,7.80895208357833,9.3646870367229,8.97637475281954,6.27390873502009,12.5086870009545,9.7688578395173,15.6415392644703,5.89771129772998,15.030842886772,8.09037115774117,8.50067435996607,16.7964080395177,8.46043145284057,15.7913553901017,10.5893942620605,16.2739779567346,15.8252483594697,6.41313546104357,10.7186028780416,17.472487508785,5.76888425741345,6.25911679584533,11.0304465529043,12.11188457557,12.948911889689,7.01254843501374,13.3715152414516,10.3649790515192,7.33259034459479,11.9646527059376,6.00004434352741,8.90996795846149,8.58200390357524,12.6975498837419,15.1586835202761,11.8858556775376,9.44318446097896],"color":["azure","azure1","bisque2","cornsilk","springgreen1","aliceblue","orchid1","lightskyblue1","gray6","brown","gray19","lemonchiffon2","grey4","lemonchiffon4","plum","royalblue1","palegreen3","darkslategrey","paleturquoise2","gray53","darkseagreen4","gray90","rosybrown","steelblue2","grey51","mediumorchid2","skyblue4","papayawhip","blue3","indianred3","grey92","gray29","turquoise2","grey11","chocolate4","lightblue1","ivory3","tomato2","gray75","lavenderblush2","yellow2","turquoise4","tan1","gold3","grey71","grey73","snow1","cadetblue3","darkmagenta","lemonchiffon1","sienna4","gray10","gray32","gray41","gray59","grey100","gray66","cyan1","antiquewhite4","grey81","orangered1","mediumaquamarine","firebrick4","gray72","lightgoldenrod4","grey91","goldenrod4","navajowhite3","chartreuse4","gray33","darkolivegreen4","green4","cyan4","yellow","deeppink","paleturquoise1","grey","gray77","sandybrown","lightgoldenrodyellow","indianred","gray27","gray14","purple4","goldenrod2","darkslategray","wheat3","gray8","pink","cornsilk1","darkslategray1","mediumorchid1","grey90","wheat1","darkorchid3","lavenderblush","turquoise3","green","gold4","cornsilk2"]}}}]}}</script><div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb3-1" data-line-number="1"><span class="kw"><a href="https://rdrr.io/r/base/args.html">args</a></span>(addJS)</a>
<a class="sourceLine" id="cb3-2" data-line-number="2"><span class="co">#&gt; function (map, data = NULL, ...) </span></a>
<a class="sourceLine" id="cb3-3" data-line-number="3"><span class="co">#&gt; NULL</span></a>
<a class="sourceLine" id="cb3-4" data-line-number="4"><span class="kw"><a href="https://rdrr.io/r/base/args.html">args</a></span>(addHexbin)</a>
<a class="sourceLine" id="cb3-5" data-line-number="5"><span class="co">#&gt; function (map, data = NULL, radius = 12, opacity = 0.5, duration = 500, </span></a>
<a class="sourceLine" id="cb3-6" data-line-number="6"><span class="co">#&gt;     lowEndColor = "white", highEndColor = "blue", uniformSize = FALSE, </span></a>
<a class="sourceLine" id="cb3-7" data-line-number="7"><span class="co">#&gt;     uniformColor = NULL, sizeSummaryFunction = c("count", "sum", </span></a>
<a class="sourceLine" id="cb3-8" data-line-number="8"><span class="co">#&gt;         "max", "min", "mean", "median"), sizevar = NULL, colorSummaryFunction = c("count", </span></a>
<a class="sourceLine" id="cb3-9" data-line-number="9"><span class="co">#&gt;         "sum", "max", "min", "mean", "median"), colorvar = NULL) </span></a>
<a class="sourceLine" id="cb3-10" data-line-number="10"><span class="co">#&gt; NULL</span></a></code></pre></div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
      </div>

</div>



      <footer><div class="copyright">
  <p>Developed by Randall Pruim, Jason Klaassen.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.3.0.9100.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
