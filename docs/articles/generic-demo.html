<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Generic JS Plugin Demo â€¢ leaflethex</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha256-916EbMg70RQy9LHiGkXzG8hSg9EdNy97GazNG/aiY1w=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" integrity="sha256-eZrrJcwDc/3uDhsdt61sL2oOBY362qM3lon1gyExkL0=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script><!-- sticky kit --><script src="https://cdnjs.cloudflare.com/ajax/libs/sticky-kit/1.1.3/sticky-kit.min.js" integrity="sha256-c4Rlo1ZozqTPE2RLuvbusY3+SU1pQaJC0TjuhygMipw=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Generic JS Plugin Demo">
<meta property="og:description" content="">
<meta name="twitter:card" content="summary">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">leaflethex</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.1.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../articles/leaflethex.html">Get started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/generic-demo.html">Generic JS Plugin Demo</a>
    </li>
    <li>
      <a href="../articles/Learning-leaflet.html">Hexbin Layer Demo</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right"></ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      
      </header><script src="generic-demo_files/htmlwidgets-1.3/htmlwidgets.js"></script><script src="generic-demo_files/jquery-1.12.4/jquery.min.js"></script><link href="generic-demo_files/leaflet-1.3.1/leaflet.css" rel="stylesheet">
<script src="generic-demo_files/leaflet-1.3.1/leaflet.js"></script><link href="generic-demo_files/leafletfix-1.0.0/leafletfix.css" rel="stylesheet">
<script src="generic-demo_files/Proj4Leaflet-1.0.1/proj4-compressed.js"></script><script src="generic-demo_files/Proj4Leaflet-1.0.1/proj4leaflet.js"></script><link href="generic-demo_files/rstudio_leaflet-1.3.1/rstudio_leaflet.css" rel="stylesheet">
<script src="generic-demo_files/leaflet-binding-2.0.2/leaflet.js"></script><link href="generic-demo_files/Some%20JS%20Plugin-1.0.0/hexbin.css" rel="stylesheet">
<script src="generic-demo_files/Some%20JS%20Plugin-1.0.0/deps.js"></script><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1>Generic JS Plugin Demo</h1>
            
      
      
      <div class="hidden name"><code>generic-demo.Rmd</code></div>

    </div>

    
    
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb1-1" title="1"><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/library">library</a></span>(leaflethex)</a>
<a class="sourceLine" id="cb1-2" title="2"><span class="co">#&gt; Loading required package: leaflet</span></a>
<a class="sourceLine" id="cb1-3" title="3"><span class="co">#&gt; Loading required package: htmltools</span></a>
<a class="sourceLine" id="cb1-4" title="4"><span class="co">#&gt; Loading required package: htmlwidgets</span></a></code></pre></div>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb2-1" title="1"><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/library">library</a></span>(leaflethex)</a>
<a class="sourceLine" id="cb2-2" title="2"><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/library">library</a></span>(tibble)</a>
<a class="sourceLine" id="cb2-3" title="3"></a>
<a class="sourceLine" id="cb2-4" title="4">df =<span class="st"> </span><span class="kw">tibble</span>(</a>
<a class="sourceLine" id="cb2-5" title="5">  <span class="dt">lat =</span> <span class="kw"><a href="https://www.rdocumentation.org/packages/stats/topics/Normal">rnorm</a></span>(<span class="dv">100</span>),</a>
<a class="sourceLine" id="cb2-6" title="6">  <span class="dt">lng =</span> <span class="kw"><a href="https://www.rdocumentation.org/packages/stats/topics/Normal">rnorm</a></span>(<span class="dv">100</span>),</a>
<a class="sourceLine" id="cb2-7" title="7">  <span class="dt">size =</span> <span class="kw"><a href="https://www.rdocumentation.org/packages/stats/topics/Uniform">runif</a></span>(<span class="dv">100</span>, <span class="dv">5</span>, <span class="dv">20</span>),</a>
<a class="sourceLine" id="cb2-8" title="8">  <span class="dt">color =</span> <span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/sample">sample</a></span>(<span class="kw"><a href="https://www.rdocumentation.org/packages/grDevices/topics/colors">colors</a></span>(), <span class="dv">100</span>)</a>
<a class="sourceLine" id="cb2-9" title="9">)</a>
<a class="sourceLine" id="cb2-10" title="10">df2 &lt;-<span class="st"> </span><span class="kw">tibble</span>(</a>
<a class="sourceLine" id="cb2-11" title="11">  <span class="dt">lat =</span>  <span class="fl">42.9634</span> <span class="op">+</span><span class="st"> </span>stats<span class="op">::</span><span class="kw"><a href="https://www.rdocumentation.org/packages/stats/topics/Normal">rnorm</a></span>(<span class="dv">100</span>),</a>
<a class="sourceLine" id="cb2-12" title="12">  <span class="dt">lng =</span> <span class="fl">-85.6681</span> <span class="op">+</span><span class="st"> </span>stats<span class="op">::</span><span class="kw"><a href="https://www.rdocumentation.org/packages/stats/topics/Normal">rnorm</a></span>(<span class="dv">100</span>),</a>
<a class="sourceLine" id="cb2-13" title="13">  <span class="dt">size =</span> <span class="kw"><a href="https://www.rdocumentation.org/packages/stats/topics/Uniform">runif</a></span>(<span class="dv">100</span>, <span class="dv">5</span>, <span class="dv">20</span>),</a>
<a class="sourceLine" id="cb2-14" title="14">  <span class="dt">color =</span> <span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/sample">sample</a></span>(<span class="kw"><a href="https://www.rdocumentation.org/packages/grDevices/topics/colors">colors</a></span>(), <span class="dv">100</span>)</a>
<a class="sourceLine" id="cb2-15" title="15">)</a>
<a class="sourceLine" id="cb2-16" title="16">addJS &lt;-<span class="st"> </span></a>
<a class="sourceLine" id="cb2-17" title="17"><span class="st">  </span><span class="kw"><a href="../reference/pluginFactory.html">pluginFactory</a></span>(</a>
<a class="sourceLine" id="cb2-18" title="18">    <span class="st">"Some JS Plugin"</span>, </a>
<a class="sourceLine" id="cb2-19" title="19">    <span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/system.file">system.file</a></span>(<span class="st">"js"</span>, <span class="st">""</span>, <span class="dt">package =</span> <span class="st">"leaflethex"</span>), <span class="st">"hexbin.js"</span>, <span class="st">"deps.js"</span>, <span class="dt">stylesheet=</span><span class="st">"hexbin.css"</span>)</a>
<a class="sourceLine" id="cb2-20" title="20"></a>
<a class="sourceLine" id="cb2-21" title="21"><span class="kw">leaflet</span>(df2, <span class="dt">width =</span> <span class="dv">600</span>, <span class="dt">height =</span> <span class="dv">300</span>) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb2-22" title="22"><span class="st">  </span><span class="kw">addTiles</span>() <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb2-23" title="23"><span class="st">  </span><span class="kw">addCircles</span>(<span class="dt">color =</span> <span class="st">"red"</span>) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb2-24" title="24"><span class="st">  </span><span class="kw">addJS</span>(<span class="dt">radius =</span> <span class="dv">20</span>, <span class="dt">highEndColor =</span> <span class="st">"yellow"</span>)</a>
<a class="sourceLine" id="cb2-25" title="25"><span class="co">#&gt; Assuming "lng" and "lat" are longitude and latitude, respectively</span></a></code></pre></div>
<div id="htmlwidget-4b316c8ce09152dae95a" style="width:600px;height:300px;" class="leaflet html-widget"></div>
<script type="application/json" data-for="htmlwidget-4b316c8ce09152dae95a">{"x":{"options":{"crs":{"crsClass":"L.CRS.EPSG3857","code":null,"proj4def":null,"projectedBounds":null,"options":{}}},"calls":[{"method":"addTiles","args":["//{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",null,null,{"minZoom":0,"maxZoom":18,"tileSize":256,"subdomains":"abc","errorTileUrl":"","tms":false,"noWrap":false,"zoomOffset":0,"zoomReverse":false,"opacity":1,"zIndex":1,"detectRetina":false,"attribution":"&copy; <a href=\"http://openstreetmap.org\">OpenStreetMap<\/a> contributors, <a href=\"http://creativecommons.org/licenses/by-sa/2.0/\">CC-BY-SA<\/a>"}]},{"method":"addCircles","args":[[44.5579770051365,43.2096213097531,42.7096664174763,44.0373153062907,43.7851745159531,42.15929263251,43.2298199229172,42.6739079832834,43.8213619927653,45.3146339171172,41.7078199862278,43.214984986841,43.5022417534247,44.1218222925336,42.1653325424139,43.2087781245063,41.9759682107075,42.7851905045007,42.1566836666638,41.002744358954,42.6549734341868,41.5249250945758,42.6369984168672,42.1394635664566,42.4414934433827,43.8382712330662,41.9118649304468,42.6313116934681,42.8562321419178,43.9012532694642,42.7096779463031,42.9111955080778,42.4533165742038,42.1528586799218,43.8053029223803,44.2676251549079,42.3464894439583,41.9074647750029,42.7040261413028,42.8828946101282,44.9090240635852,41.1696883186208,41.7264078947557,44.2118643036373,42.7841651234578,42.2186722495152,43.1781478857834,43.4007371882002,41.2988461960502,42.2185367699187,44.301875439021,44.2843144382592,41.4747302554874,42.2411781611029,40.7936421189501,43.3471836292996,42.8403494478093,43.4345245642402,42.0389272419979,42.1620271956909,43.5639759784795,42.2938231175063,45.9423357793872,43.0066544511868,44.3659995743889,43.5514315722804,41.7082864646001,43.9171994661458,43.4199416928755,45.8205901462331,42.3640767412621,42.9141860961203,42.2993286933924,42.3766785129011,42.0804953523704,42.9903366422154,41.5944007194031,41.9554757670462,41.8678579119035,43.9021222222238,41.518190997747,43.6639281488618,43.0220716513267,42.8717167039854,42.5637035333692,43.4417583290275,42.3732840561841,41.2488521579299,42.98055656459,42.9087545685439,43.845306549722,43.5025510382554,43.436025004585,42.5908479119513,42.5477212804978,40.7203649154486,43.2436993090041,44.1918929947723,42.5338929143444,44.5448799679441],[-85.5022397901059,-84.6558272238913,-84.1617380612398,-85.7532188671943,-86.1900592827677,-85.9265678704354,-85.1894013280577,-87.2253260297379,-85.6025333156916,-85.8529859841661,-85.1704447515484,-85.9084042649098,-86.8084665540068,-85.8678928412563,-86.7526440757477,-85.3016491150124,-85.0903339790612,-87.1271228148402,-87.2376962679671,-84.2739210736025,-86.3716650014201,-86.0484887371635,-85.1349479866489,-86.2046261992229,-88.1401660699127,-86.7711406836041,-84.7753231347914,-84.6750113422057,-85.6420436332342,-85.4349233246608,-84.2386241034097,-85.3100323270544,-86.3024711823521,-85.1469543629035,-85.0409759780882,-85.8312373011139,-85.3543321642012,-84.7150669771156,-85.272977442704,-85.7465173130488,-85.4911196660729,-85.4800639143382,-86.2289820588152,-84.920956141545,-86.2504291593113,-86.0581182840502,-84.8526673518223,-84.6283824837834,-85.4019729460077,-85.20398716664,-86.6709730238213,-83.2734656442546,-87.2286119527352,-84.2384827242356,-84.9588765886751,-85.3461955285633,-86.7423145530495,-84.4245866454898,-85.4919897361781,-85.7145240134172,-84.3665843007651,-86.1624534339635,-84.5940157030067,-84.6196734804665,-85.8055348115359,-85.2105958001402,-85.4632606407515,-85.3816239140905,-86.1457227740773,-86.4290314867187,-85.0919802894099,-85.3660783769983,-84.2097626426149,-85.3517286457867,-84.8859060490842,-87.4363178479366,-85.9740558861609,-86.6575700261327,-84.0120578998271,-85.0133337119081,-84.528519676491,-85.1633111705358,-86.6700837818717,-84.0831707221655,-85.7721113081883,-84.9912656171109,-84.5121536132713,-87.4396195476158,-84.4640722773014,-86.334336509805,-86.004138087298,-86.3834266443834,-84.9754245479657,-84.7550328025157,-85.0682133708621,-86.6355275501052,-84.7071575098295,-85.7309431133189,-84.8957644343155,-84.3760895781554],10,null,null,{"interactive":true,"className":"","stroke":true,"color":"red","weight":5,"opacity":0.5,"fill":true,"fillColor":"red","fillOpacity":0.2},null,null,null,{"interactive":false,"permanent":false,"direction":"auto","opacity":1,"offset":[0,0],"textsize":"10px","textOnly":false,"className":"","sticky":true},null,null]}],"limits":{"lat":[40.7203649154486,45.9423357793872],"lng":[-88.1401660699127,-83.2734656442546]}},"evals":[],"jsHooks":{"render":[{"code":"function(el, x, data) {\n  return (function(el, x, data = null) {\r\n\r\n  // Built-in Summary Functions\r\n  var summaryFunctions = [\"count\", \"sum\", \"max\", \"min\", \"mean\", \"median\"];\r\n\r\n  // Utility function for saving defaults for data parameters\r\n  var param = function(name, defaultValue) { return { name: name, defaultValue : defaultValue}  };\r\n\r\n  // Create a list of accepted parameters to this script\r\n  var parameters = [\r\n    param(\"radius\", 12),\r\n    param(\"opacity\", 0.5),\r\n    param(\"duration\", 500),\r\n    param(\"lowEndColor\", 'white'),\r\n    param(\"highEndColor\", 'blue'),\r\n    param(\"uniformSize\", false),\r\n    param(\"uniformColor\", 'blue'),\r\n    param(\"sizeSummaryFunction\", \"count\"),\r\n    param(\"colorSummaryFunction\", \"count\"),\r\n    param(\"sizevar\", undefined),\r\n    param(\"colorvar\", undefined)\r\n  ];\r\n\r\n  // Function to build the options object for later use\r\n  var buildOptions = function() {\r\n\r\n    // Initialize the object that will be filled and returned\r\n    var result = {};\r\n\r\n    // Create options object with given values or default values if none are provided\r\n    parameters.forEach(entry => {\r\n      var parameterValue = data[entry.name];\r\n      if(parameterValue !== undefined && parameterValue !== null) {\r\n        result[entry.name] = parameterValue;\r\n      } else {\r\n        result[entry.name] = entry.defaultValue;\r\n      }\r\n    });\r\n    // if no colorvar is set, then mirror with sizevar\r\n    if (result.colorvar === undefined) {\r\n      result.colorvar = result.sizevar;\r\n    }\r\n    // Return options chosen by the user plus defaults for unchosen fields\r\n    return result;\r\n  };\r\n  // Set Options based on parameters given by the data parameters\r\n  var options = buildOptions();\r\n\r\n\r\n  // Builds a function to calculate per hexagon from the function name\r\n  // or valid js string and variable name to use\r\n  var buildSumFunction = function(functionToUse, variableToUse, variableType) {\r\n    var retFunction;\r\n    var count = dataPointsPerHex => dataPointsPerHex.length;\r\n    // Default to using count\r\n    if(functionToUse == \"count\" || variableToUse === undefined) return count;\r\n    if(!summaryFunctions.includes(functionToUse)) {\r\n      console.warn(\"Using Custom Function as no supported functions were matched\");\r\n      // User defined function\r\n      retFunction = Function('\"use strict\";return (' + functionToUse + ')');\r\n    } else {\r\n      retFunction = function(dataPointsPerHex) {\r\n        // Set the inital value for the result\r\n        var result = 0;\r\n        if(functionToUse == \"max\") result = Number.MIN_VALUE;\r\n        if(functionToUse == \"min\") result = Number.MAX_VALUE;\r\n        if(functionToUse == \"sum\") result = 0;\r\n\r\n        console.log(dataPointsPerHex.length);\r\n        if(functionToUse == \"median\") {\r\n          var values = dataPointsPerHex.map(point => point.o[2][variableToUse]);\r\n          if(values.length < 3) {\r\n            if(values.length == 1) result = values[0];\r\n            else if(values.length == 0) result = 0;\r\n            else result = (values[0] + values[1]) / 2;\r\n          } else {\r\n            values.sort((a, b) => a - b);\r\n            var index = (values.length + 1) / 2;\r\n            if(Number.isInteger(index)) {\r\n              result = values[index];\r\n            } else {\r\n              result = (values[Math.floor(index)] + values[Math.ceil(index)]) / 2;\r\n            }\r\n          }\r\n\r\n        } else {\r\n          dataPointsPerHex.forEach(point => {\r\n            var value = point.o[2][variableToUse];\r\n            if(functionToUse == \"mean\") result += value;\r\n            if(functionToUse == \"sum\") result += value;\r\n            if(functionToUse == \"max\") result = result > value ? result : value;\r\n            if(functionToUse == \"min\") result = result < value ? result : value;\r\n          });\r\n          if(functionToUse == \"mean\") result /= dataPointsPerHex.length;\r\n          if(variableType == \"size\") result = scaleFunctions[variableToUse](result);\r\n        }\r\n        return result;\r\n      };\r\n      return retFunction;\r\n    }\r\n  };\r\n\r\n  // Add Options to hexlayer\r\n  var hexLayer = L.hexbinLayer(options).addTo(this);\r\n\r\n  // Add ColorScale\r\n  var colorScale = [options.lowEndColor, options.highEndColor];\r\n  if(data.uniformColor !== null && data.uniformColor !== undefined) {\r\n    colorScale = [data.uniformColor, data.uniformColor];\r\n  }\r\n  hexLayer.colorScale().range(colorScale);\r\n\r\n  // Set Radius range based on radius given through data parameter\r\n  var largestRadius = options.radius - 1 / options.radius; // 1/radius is a small buffer between hexagons\r\n  var smallestRadius = options.radius / 2;\r\n  if(options.uniformSize) smallestRadius = largestRadius;\r\n  var radRange = [ smallestRadius, largestRadius ];\r\n\r\n  // Add Data to the Hex Layer\r\n  var hexData = [];\r\n\r\n  // Check if variable is an array with the same length as the latitute and longitude arrays\r\n  var variableIsCompatible = entry => Array.isArray(entry) && entry.length == data.mapData.lat.length;\r\n  var scaleFunctions = {};\r\n  // Find any variables that may be involved in the hexbin\r\n  var auxData = Object.assign({}, data.mapData);\r\n  Object.keys(auxData).forEach(key => {\r\n    if(key == \"lat\" || key == \"lng\") {\r\n      delete auxData[key];\r\n    } else if(variableIsCompatible(auxData[key])) {\r\n      var array = auxData[key];\r\n      var min = Math.min(...array);\r\n      var max = Math.max(...array);\r\n      var radSizeRange = (largestRadius - smallestRadius);\r\n      var variableRange = (max - min);\r\n      scaleFunctions[key] = function(variableValue) {\r\n        return (((variableValue - min) * radSizeRange) / variableRange) + smallestRadius;\r\n      };\r\n    } else {\r\n      delete auxData[key];\r\n    }\r\n  });\r\n\r\n  for(i=0; i< data.mapData.lat.length; i++){\r\n    var tuple = [data.mapData.lat[i], data.mapData.lng[i]];\r\n    hexData.push(tuple);\r\n  }\r\n  if(auxData !== undefined) {\r\n    for(i=0; i < hexData.length; i++) {\r\n      var extraVarContainer = {};\r\n      if(options.sizevar !== undefined) {\r\n        extraVarContainer[options.sizevar] = auxData[options.sizevar][i];\r\n      }\r\n      if(options.colorvar !== undefined) {\r\n        extraVarContainer[options.colorvar] = auxData[options.colorvar][i];\r\n      }\r\n      hexData[i].push(extraVarContainer);\r\n    }\r\n  }\r\n  // hexData is now an Array of arrays (Matrix)\r\n  // 0: [lat0, lng0, somevariable0, anothervariable0]\r\n  // 1: [lat1, lng1, somevariable1, anothervariable1]\r\n  // ...\r\n\r\n  // Create Hex Layer\r\n  hexLayer\r\n  .radiusRange(radRange)\r\n  .lat(function(d) { return d[0]; })\r\n  .lng(function(d) { return d[1]; })\r\n  .colorValue(buildSumFunction(options.colorSummaryFunction, options.colorvar, \"color\"))\r\n  .radiusValue(buildSumFunction(options.sizeSummaryFunction, options.sizevar, \"size\")) // Choose summary function based off of parameter inside the data object\r\n  .data(hexData);\r\n\r\n\r\n  // Zoom in to fit the data in the screen\r\n  this.fitBounds(hexData);\r\n\r\n}).call(this.getMap(), el, x, data);\n}","data":{"radius":20,"highEndColor":"yellow","mapData":{"lat":[44.5579770051365,43.2096213097531,42.7096664174763,44.0373153062907,43.7851745159531,42.15929263251,43.2298199229172,42.6739079832834,43.8213619927653,45.3146339171172,41.7078199862278,43.214984986841,43.5022417534247,44.1218222925336,42.1653325424139,43.2087781245063,41.9759682107075,42.7851905045007,42.1566836666638,41.002744358954,42.6549734341868,41.5249250945758,42.6369984168672,42.1394635664566,42.4414934433827,43.8382712330662,41.9118649304468,42.6313116934681,42.8562321419178,43.9012532694642,42.7096779463031,42.9111955080778,42.4533165742038,42.1528586799218,43.8053029223803,44.2676251549079,42.3464894439583,41.9074647750029,42.7040261413028,42.8828946101282,44.9090240635852,41.1696883186208,41.7264078947557,44.2118643036373,42.7841651234578,42.2186722495152,43.1781478857834,43.4007371882002,41.2988461960502,42.2185367699187,44.301875439021,44.2843144382592,41.4747302554874,42.2411781611029,40.7936421189501,43.3471836292996,42.8403494478093,43.4345245642402,42.0389272419979,42.1620271956909,43.5639759784795,42.2938231175063,45.9423357793872,43.0066544511868,44.3659995743889,43.5514315722804,41.7082864646001,43.9171994661458,43.4199416928755,45.8205901462331,42.3640767412621,42.9141860961203,42.2993286933924,42.3766785129011,42.0804953523704,42.9903366422154,41.5944007194031,41.9554757670462,41.8678579119035,43.9021222222238,41.518190997747,43.6639281488618,43.0220716513267,42.8717167039854,42.5637035333692,43.4417583290275,42.3732840561841,41.2488521579299,42.98055656459,42.9087545685439,43.845306549722,43.5025510382554,43.436025004585,42.5908479119513,42.5477212804978,40.7203649154486,43.2436993090041,44.1918929947723,42.5338929143444,44.5448799679441],"lng":[-85.5022397901059,-84.6558272238913,-84.1617380612398,-85.7532188671943,-86.1900592827677,-85.9265678704354,-85.1894013280577,-87.2253260297379,-85.6025333156916,-85.8529859841661,-85.1704447515484,-85.9084042649098,-86.8084665540068,-85.8678928412563,-86.7526440757477,-85.3016491150124,-85.0903339790612,-87.1271228148402,-87.2376962679671,-84.2739210736025,-86.3716650014201,-86.0484887371635,-85.1349479866489,-86.2046261992229,-88.1401660699127,-86.7711406836041,-84.7753231347914,-84.6750113422057,-85.6420436332342,-85.4349233246608,-84.2386241034097,-85.3100323270544,-86.3024711823521,-85.1469543629035,-85.0409759780882,-85.8312373011139,-85.3543321642012,-84.7150669771156,-85.272977442704,-85.7465173130488,-85.4911196660729,-85.4800639143382,-86.2289820588152,-84.920956141545,-86.2504291593113,-86.0581182840502,-84.8526673518223,-84.6283824837834,-85.4019729460077,-85.20398716664,-86.6709730238213,-83.2734656442546,-87.2286119527352,-84.2384827242356,-84.9588765886751,-85.3461955285633,-86.7423145530495,-84.4245866454898,-85.4919897361781,-85.7145240134172,-84.3665843007651,-86.1624534339635,-84.5940157030067,-84.6196734804665,-85.8055348115359,-85.2105958001402,-85.4632606407515,-85.3816239140905,-86.1457227740773,-86.4290314867187,-85.0919802894099,-85.3660783769983,-84.2097626426149,-85.3517286457867,-84.8859060490842,-87.4363178479366,-85.9740558861609,-86.6575700261327,-84.0120578998271,-85.0133337119081,-84.528519676491,-85.1633111705358,-86.6700837818717,-84.0831707221655,-85.7721113081883,-84.9912656171109,-84.5121536132713,-87.4396195476158,-84.4640722773014,-86.334336509805,-86.004138087298,-86.3834266443834,-84.9754245479657,-84.7550328025157,-85.0682133708621,-86.6355275501052,-84.7071575098295,-85.7309431133189,-84.8957644343155,-84.3760895781554],"size":[13.2277468824759,5.17867517191917,12.8032000956591,14.4587351079099,13.4230377699714,14.0820046828594,10.4825047438499,14.9604055355303,13.102056577336,14.6896780049428,9.46985835209489,11.0220672795549,19.7315609909128,19.3693734821863,6.88512573717162,13.7907051539514,8.88661765260622,6.59242428955622,5.56227097287774,5.64844858134165,19.3738339818083,16.1323682940565,16.7930146539584,18.0230029986706,15.1486529631075,12.2268032270949,16.5426294715144,17.6914121466689,7.17850378598087,14.4546438066754,6.84627389418893,17.3698706098367,13.6037765454967,8.58311932533979,8.9539947535377,12.6327507628594,12.4110828328412,19.8179271258414,15.3598845785018,19.4239658687729,15.0782399682794,6.66070598992519,15.8347670338117,6.20395111851394,7.19346046447754,6.6705862316303,7.54507829551585,6.79319461924024,8.83224627235904,7.97358393901959,5.06344823748805,15.97150417394,15.3423758374993,12.6570878212806,19.9715856066905,12.7013958571479,11.213999800384,19.3965906812809,11.9479828886688,5.2748633432202,14.6526765893213,15.2587417943869,12.5275923730806,8.33682216471061,14.5603530586231,14.0050721983425,17.7160331560299,13.5590010648593,8.70849223225378,9.22039095312357,19.885172547074,9.20392904197797,7.27227595401928,8.81117705604993,9.392988368636,7.88539478555322,9.58126434008591,14.9851468531415,19.7802935435902,9.40526388236322,13.1150498054922,18.2488971855491,17.5850027857814,11.8026861420367,14.5245217566844,11.7374268686399,16.5577263722662,13.3404175564647,18.9974763593636,16.1079401662573,16.1043022247031,17.567759443773,8.36261169519275,16.1461079132278,12.1294201491401,15.5371362727601,10.0428037380334,12.0011826814152,14.7376448498107,7.71729769767262],"color":["plum2","grey45","grey18","khaki4","lightpink","sienna2","gray57","gray48","gray27","grey29","honeydew2","gray74","mediumorchid3","grey80","gray50","blanchedalmond","springgreen3","green","turquoise4","grey17","lightyellow1","gray49","gray88","deepskyblue4","honeydew1","gray28","gray62","gray77","navyblue","grey64","darkorange2","gray","slateblue4","mediumpurple2","oldlace","maroon1","gray55","purple1","grey68","gray46","coral","grey28","cadetblue","cyan3","navy","palegoldenrod","grey92","grey1","honeydew","bisque3","grey35","gray40","red","gray69","grey3","grey81","chartreuse3","slateblue2","wheat3","gray39","dodgerblue4","khaki","gray78","darkslategray","seashell1","red2","darkred","darkgoldenrod3","pink1","hotpink3","mistyrose3","hotpink1","blue","gray75","lemonchiffon3","grey50","darkseagreen","firebrick4","orchid1","mediumaquamarine","palegreen1","seagreen2","chartreuse1","grey48","goldenrod4","gray20","orange2","gray66","darkorange1","sienna","navajowhite2","lightsalmon3","gray96","orchid4","grey40","lightblue4","lightskyblue","darksalmon","blue1","gray23"]}}}]}}</script><div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb3-1" title="1"><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/args">args</a></span>(addJS)</a>
<a class="sourceLine" id="cb3-2" title="2"><span class="co">#&gt; function (map, data = NULL, ...) </span></a>
<a class="sourceLine" id="cb3-3" title="3"><span class="co">#&gt; NULL</span></a>
<a class="sourceLine" id="cb3-4" title="4"><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/args">args</a></span>(addHexbin)</a>
<a class="sourceLine" id="cb3-5" title="5"><span class="co">#&gt; function (map, data = NULL, radius = 12, opacity = 0.5, duration = 500, </span></a>
<a class="sourceLine" id="cb3-6" title="6"><span class="co">#&gt;     lowEndColor = "white", highEndColor = "blue", uniformSize = FALSE, </span></a>
<a class="sourceLine" id="cb3-7" title="7"><span class="co">#&gt;     uniformColor = NULL, sizeSummaryFunction = "count", sizevar = NULL, </span></a>
<a class="sourceLine" id="cb3-8" title="8"><span class="co">#&gt;     colorSummaryFunction = "count", colorvar = NULL) </span></a>
<a class="sourceLine" id="cb3-9" title="9"><span class="co">#&gt; NULL</span></a></code></pre></div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
      </div>

</div>


      <footer><div class="copyright">
  <p>Developed by Randall Pruim, Jason Klaassen.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.3.0.</p>
</div>
      </footer>
</div>

  

  </body>
</html>
