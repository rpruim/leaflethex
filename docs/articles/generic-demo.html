<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Generic JS Plugin Demo â€¢ leaflethex</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha256-916EbMg70RQy9LHiGkXzG8hSg9EdNy97GazNG/aiY1w=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.7.1/css/all.min.css" integrity="sha256-nAmazAk6vS34Xqo0BSrTb+abbtFlgsFK7NKSi6o7Y78=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.7.1/css/v4-shims.min.css" integrity="sha256-6qHlizsOWFskGlwVOKuns+D1nB6ssZrHQrNj1wGplHc=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/headroom.min.js" integrity="sha256-DJFC1kqIhelURkuza0AvYal5RxMtpzLjFhsnVIeuk+U=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Generic JS Plugin Demo">
<meta property="og:description" content="">
<meta name="twitter:card" content="summary">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">leaflethex</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.1.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../articles/leaflethex.html">Get started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/Learning-leaflet.html">Hexbin Layer Demo</a>
    </li>
    <li>
      <a href="../articles/generic-demo.html">Generic JS Plugin Demo</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right"></ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><script src="generic-demo_files/htmlwidgets-1.3/htmlwidgets.js"></script><script src="generic-demo_files/jquery-1.12.4/jquery.min.js"></script><link href="generic-demo_files/leaflet-1.3.1/leaflet.css" rel="stylesheet">
<script src="generic-demo_files/leaflet-1.3.1/leaflet.js"></script><link href="generic-demo_files/leafletfix-1.0.0/leafletfix.css" rel="stylesheet">
<script src="generic-demo_files/Proj4Leaflet-1.0.1/proj4-compressed.js"></script><script src="generic-demo_files/Proj4Leaflet-1.0.1/proj4leaflet.js"></script><link href="generic-demo_files/rstudio_leaflet-1.3.1/rstudio_leaflet.css" rel="stylesheet">
<script src="generic-demo_files/leaflet-binding-2.0.2/leaflet.js"></script><link href="generic-demo_files/Some%20JS%20Plugin-1.0.0/hexbin.css" rel="stylesheet">
<script src="generic-demo_files/Some%20JS%20Plugin-1.0.0/deps.js"></script><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1>Generic JS Plugin Demo</h1>
            
      
      
      <div class="hidden name"><code>generic-demo.Rmd</code></div>

    </div>

    
    
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb1-1" data-line-number="1"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span>(leaflethex)</a>
<a class="sourceLine" id="cb1-2" data-line-number="2"><span class="co">#&gt; Loading required package: leaflet</span></a>
<a class="sourceLine" id="cb1-3" data-line-number="3"><span class="co">#&gt; Loading required package: htmltools</span></a>
<a class="sourceLine" id="cb1-4" data-line-number="4"><span class="co">#&gt; Loading required package: htmlwidgets</span></a></code></pre></div>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb2-1" data-line-number="1"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span>(leaflethex)</a>
<a class="sourceLine" id="cb2-2" data-line-number="2"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span>(tibble)</a>
<a class="sourceLine" id="cb2-3" data-line-number="3"></a>
<a class="sourceLine" id="cb2-4" data-line-number="4">df =<span class="st"> </span><span class="kw"><a href="https://tibble.tidyverse.org/reference/tibble.html">tibble</a></span>(</a>
<a class="sourceLine" id="cb2-5" data-line-number="5">  <span class="dt">lat =</span> <span class="kw"><a href="https://rdrr.io/r/stats/Normal.html">rnorm</a></span>(<span class="dv">100</span>),</a>
<a class="sourceLine" id="cb2-6" data-line-number="6">  <span class="dt">lng =</span> <span class="kw"><a href="https://rdrr.io/r/stats/Normal.html">rnorm</a></span>(<span class="dv">100</span>),</a>
<a class="sourceLine" id="cb2-7" data-line-number="7">  <span class="dt">size =</span> <span class="kw"><a href="https://rdrr.io/r/stats/Uniform.html">runif</a></span>(<span class="dv">100</span>, <span class="dv">5</span>, <span class="dv">20</span>),</a>
<a class="sourceLine" id="cb2-8" data-line-number="8">  <span class="dt">color =</span> <span class="kw"><a href="https://rdrr.io/r/base/sample.html">sample</a></span>(<span class="kw"><a href="https://rdrr.io/r/grDevices/colors.html">colors</a></span>(), <span class="dv">100</span>)</a>
<a class="sourceLine" id="cb2-9" data-line-number="9">)</a>
<a class="sourceLine" id="cb2-10" data-line-number="10">df2 &lt;-<span class="st"> </span><span class="kw"><a href="https://tibble.tidyverse.org/reference/tibble.html">tibble</a></span>(</a>
<a class="sourceLine" id="cb2-11" data-line-number="11">  <span class="dt">lat =</span>  <span class="fl">42.9634</span> <span class="op">+</span><span class="st"> </span>stats<span class="op">::</span><span class="kw"><a href="https://rdrr.io/r/stats/Normal.html">rnorm</a></span>(<span class="dv">100</span>),</a>
<a class="sourceLine" id="cb2-12" data-line-number="12">  <span class="dt">lng =</span> <span class="fl">-85.6681</span> <span class="op">+</span><span class="st"> </span>stats<span class="op">::</span><span class="kw"><a href="https://rdrr.io/r/stats/Normal.html">rnorm</a></span>(<span class="dv">100</span>),</a>
<a class="sourceLine" id="cb2-13" data-line-number="13">  <span class="dt">size =</span> <span class="kw"><a href="https://rdrr.io/r/stats/Uniform.html">runif</a></span>(<span class="dv">100</span>, <span class="dv">5</span>, <span class="dv">20</span>),</a>
<a class="sourceLine" id="cb2-14" data-line-number="14">  <span class="dt">color =</span> <span class="kw"><a href="https://rdrr.io/r/base/sample.html">sample</a></span>(<span class="kw"><a href="https://rdrr.io/r/grDevices/colors.html">colors</a></span>(), <span class="dv">100</span>)</a>
<a class="sourceLine" id="cb2-15" data-line-number="15">)</a>
<a class="sourceLine" id="cb2-16" data-line-number="16">addJS &lt;-<span class="st"> </span></a>
<a class="sourceLine" id="cb2-17" data-line-number="17"><span class="st">  </span><span class="kw"><a href="../reference/pluginFactory.html">pluginFactory</a></span>(</a>
<a class="sourceLine" id="cb2-18" data-line-number="18">    <span class="st">"Some JS Plugin"</span>, </a>
<a class="sourceLine" id="cb2-19" data-line-number="19">    <span class="kw"><a href="https://rdrr.io/r/base/system.file.html">system.file</a></span>(<span class="st">"js"</span>, <span class="st">""</span>, <span class="dt">package =</span> <span class="st">"leaflethex"</span>), <span class="st">"hexbin.js"</span>, <span class="st">"deps.js"</span>, <span class="dt">stylesheet=</span><span class="st">"hexbin.css"</span>)</a>
<a class="sourceLine" id="cb2-20" data-line-number="20"></a>
<a class="sourceLine" id="cb2-21" data-line-number="21"><span class="kw">leaflet</span>(df2, <span class="dt">width =</span> <span class="dv">600</span>, <span class="dt">height =</span> <span class="dv">300</span>) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb2-22" data-line-number="22"><span class="st">  </span><span class="kw">addTiles</span>() <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb2-23" data-line-number="23"><span class="st">  </span><span class="kw">addCircles</span>(<span class="dt">color =</span> <span class="st">"red"</span>) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb2-24" data-line-number="24"><span class="st">  </span><span class="kw">addJS</span>(<span class="dt">radius =</span> <span class="dv">20</span>, <span class="dt">highEndColor =</span> <span class="st">"yellow"</span>)</a>
<a class="sourceLine" id="cb2-25" data-line-number="25"><span class="co">#&gt; Assuming "lng" and "lat" are longitude and latitude, respectively</span></a></code></pre></div>
<div id="htmlwidget-b3dedf5d6bb97aad80c9" style="width:600px;height:300px;" class="leaflet html-widget"></div>
<script type="application/json" data-for="htmlwidget-b3dedf5d6bb97aad80c9">{"x":{"options":{"crs":{"crsClass":"L.CRS.EPSG3857","code":null,"proj4def":null,"projectedBounds":null,"options":{}}},"calls":[{"method":"addTiles","args":["//{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",null,null,{"minZoom":0,"maxZoom":18,"tileSize":256,"subdomains":"abc","errorTileUrl":"","tms":false,"noWrap":false,"zoomOffset":0,"zoomReverse":false,"opacity":1,"zIndex":1,"detectRetina":false,"attribution":"&copy; <a href=\"http://openstreetmap.org\">OpenStreetMap<\/a> contributors, <a href=\"http://creativecommons.org/licenses/by-sa/2.0/\">CC-BY-SA<\/a>"}]},{"method":"addCircles","args":[[43.4568667804866,42.6427631134786,43.9844366055829,43.2753189784675,43.6514100499287,43.6408692507869,43.3015398211468,42.2684762471623,43.8907289465907,42.2517667869419,43.1898615347057,42.7745780032049,42.9190715169496,43.5811970033163,43.7167888227427,41.5338711127921,43.0570353279398,43.1939683922061,43.8283769725445,44.1689974278472,42.0593494435345,43.3379035809403,42.6740454376776,42.382443699384,42.865739615803,43.8080477058027,44.4445618905663,45.0994500713076,42.6883819360423,43.7424864077038,41.9598031799031,42.3955487433703,42.0576458568357,42.8882204353402,43.6192607429456,41.5960448719182,41.6545402327329,41.8799802298618,43.4683065787386,41.0217644050611,42.7826930858751,45.0138118264195,44.1798452107911,42.9957215253589,43.3190986859566,42.6612203566416,44.2380226923371,41.1467456548701,42.5977137222344,43.0442332080264,43.7011701662984,42.4677723118682,43.0994999112528,41.5499232158081,42.7492016517805,42.8131270966374,45.0756859117852,42.6025932729372,42.1770803061194,42.1182602125855,44.7761362262527,42.7291366225366,43.4937290739775,43.7476835633323,43.0853392914302,45.1041101544306,43.3262766438079,44.1918623507777,43.6758151946449,42.1731780751251,42.8131975370374,43.5116950152404,43.3756906891407,43.1241368971761,43.5784095790878,43.9863081785834,42.4582292467771,43.8346637544579,41.620393354648,40.5743491704663,44.0857525083226,43.7134490005509,43.15429155434,42.2204141628594,43.3830814121686,41.9489076740123,44.0316181470098,43.8952952305904,43.7841090515065,42.3096715571116,44.5308547267655,43.8920635333417,44.6168836032996,40.6547536934079,42.3069468591787,41.8218561158357,42.3845926603706,43.1529503999997,42.9751097908319,43.7730107967781],[-86.5437865944156,-85.5112755153845,-84.8817755262792,-85.7970539627917,-86.3611835525554,-86.2200472675589,-86.6180438680152,-85.0392148701384,-86.5091771016044,-83.7185095786277,-86.0424814922445,-86.810929490628,-85.7403760279092,-85.3313138341734,-85.8178975543201,-86.9011765514658,-86.6753930766455,-85.5110077776719,-85.1353935596092,-86.2966619585911,-84.9856974058681,-85.7630128362106,-85.9890625324106,-84.6596635085933,-86.218192945189,-82.525261065281,-86.5368980839794,-86.6514402851319,-83.899957349835,-86.9667893131202,-86.3201710800977,-84.8575132688589,-85.8687384969943,-86.4213426134617,-86.1500235174201,-84.2820990379223,-87.2051504582757,-87.3948051204439,-83.2785279530872,-85.8722995864131,-86.887723723703,-87.3839361036229,-84.0129910571043,-87.8168984637582,-86.158308100283,-85.0092744574687,-85.7387286221785,-85.5286792223471,-86.88392151154,-84.2384106090622,-85.6333527230578,-85.948232701721,-85.1323740511227,-85.0091651488294,-86.8793140861856,-85.6304486275951,-85.0619319262371,-86.6587086616382,-87.8338756100103,-85.1649477491956,-85.6734279283009,-86.9665911383972,-85.6000774300738,-82.3387531164325,-85.8789986337835,-85.3782134088239,-85.4839794933774,-87.4749909492541,-87.1002347908738,-85.6395270867966,-85.8469835951979,-85.5081364680866,-85.0255920105752,-85.6346964742157,-86.0159281866026,-84.9306804152507,-88.0979285674107,-85.9375748610975,-86.6394342027054,-85.5334709626251,-85.4004100673708,-85.4862859302621,-85.7270423978497,-88.1527134139323,-85.3857214365858,-85.22267630058,-85.3804273408267,-84.2593183243838,-86.9544490693261,-83.8623640075671,-85.912080865474,-86.9504379693007,-87.1315057978159,-84.9866956117679,-84.9174461108605,-86.8419508493919,-85.2637031758666,-86.0775085063864,-86.6346968792968,-86.1970865410933],10,null,null,{"interactive":true,"className":"","stroke":true,"color":"red","weight":5,"opacity":0.5,"fill":true,"fillColor":"red","fillOpacity":0.2},null,null,null,{"interactive":false,"permanent":false,"direction":"auto","opacity":1,"offset":[0,0],"textsize":"10px","textOnly":false,"className":"","sticky":true},null,null]}],"limits":{"lat":[40.5743491704663,45.1041101544306],"lng":[-88.1527134139323,-82.3387531164325]}},"evals":[],"jsHooks":{"render":[{"code":"function(el, x, data) {\n  return (function(el, x, data = null) {\n\n  // Built-in Summary Functions\n  var summaryFunctions = [\"count\", \"sum\", \"max\", \"min\", \"mean\", \"median\"];\n\n  // Utility function for saving defaults for data parameters\n  var param = function(name, defaultValue) { return { name: name, defaultValue : defaultValue}  };\n\n  // Create a list of accepted parameters to this script\n  var parameters = [\n    param(\"radius\", 12),\n    param(\"opacity\", 0.5),\n    param(\"duration\", 500),\n    param(\"lowEndColor\", 'white'),\n    param(\"highEndColor\", 'blue'),\n    param(\"uniformSize\", false),\n    param(\"uniformColor\", 'blue'),\n    param(\"sizeSummaryFunction\", \"count\"),\n    param(\"colorSummaryFunction\", \"count\"),\n    param(\"sizevar\", undefined),\n    param(\"colorvar\", undefined)\n  ];\n\n  // Function to build the options object for later use\n  var buildOptions = function() {\n\n    // Initialize the object that will be filled and returned\n    var result = {};\n\n    // Create options object with given values or default values if none are provided\n    parameters.forEach(entry => {\n      var parameterValue = data[entry.name];\n      if(parameterValue !== undefined && parameterValue !== null) {\n        result[entry.name] = parameterValue;\n      } else {\n        result[entry.name] = entry.defaultValue;\n      }\n    });\n    // if no colorvar is set, then mirror with sizevar\n    if (result.colorvar === undefined) {\n      result.colorvar = result.sizevar;\n    }\n    // Return options chosen by the user plus defaults for unchosen fields\n    return result;\n  };\n  // Set Options based on parameters given by the data parameters\n  var options = buildOptions();\n\n\n  // Builds a function to calculate per hexagon from the function name\n  // or valid js string and variable name to use\n  var buildSumFunction = function(functionToUse, variableToUse, variableType) {\n    var retFunction;\n    var count = dataPointsPerHex => dataPointsPerHex.length;\n    // Default to using count\n    if(functionToUse == \"count\" || variableToUse === undefined) return count;\n    if(!summaryFunctions.includes(functionToUse)) {\n      console.warn(\"Using Custom Function as no supported functions were matched\");\n      // User defined function\n      retFunction = Function('\"use strict\";return (' + functionToUse + ')');\n    } else {\n      retFunction = function(dataPointsPerHex) {\n        // Set the inital value for the result\n        var result = 0;\n        if(functionToUse == \"max\") result = Number.MIN_VALUE;\n        if(functionToUse == \"min\") result = Number.MAX_VALUE;\n        if(functionToUse == \"sum\") result = 0;\n\n        console.log(dataPointsPerHex.length);\n        if(functionToUse == \"median\") {\n          var values = dataPointsPerHex.map(point => point.o[2][variableToUse]);\n          if(values.length < 3) {\n            if(values.length == 1) result = values[0];\n            else if(values.length == 0) result = 0;\n            else result = (values[0] + values[1]) / 2;\n          } else {\n            values.sort((a, b) => a - b);\n            var index = (values.length + 1) / 2;\n            if(Number.isInteger(index)) {\n              result = values[index];\n            } else {\n              result = (values[Math.floor(index)] + values[Math.ceil(index)]) / 2;\n            }\n          }\n\n        } else {\n          dataPointsPerHex.forEach(point => {\n            var value = point.o[2][variableToUse];\n            if(functionToUse == \"mean\") result += value;\n            if(functionToUse == \"sum\") result += value;\n            if(functionToUse == \"max\") result = result > value ? result : value;\n            if(functionToUse == \"min\") result = result < value ? result : value;\n          });\n          if(functionToUse == \"mean\") result /= dataPointsPerHex.length;\n          if(variableType == \"size\") result = scaleFunctions[variableToUse](result);\n        }\n        return result;\n      };\n      return retFunction;\n    }\n  };\n\n  // Add Options to hexlayer\n  var hexLayer = L.hexbinLayer(options).addTo(this);\n\n  // Add ColorScale\n  var colorScale = [options.lowEndColor, options.highEndColor];\n  if(data.uniformColor !== null && data.uniformColor !== undefined) {\n    colorScale = [data.uniformColor, data.uniformColor];\n  }\n  hexLayer.colorScale().range(colorScale);\n\n  // Set Radius range based on radius given through data parameter\n  var largestRadius = options.radius - 1 / options.radius; // 1/radius is a small buffer between hexagons\n  var smallestRadius = options.radius / 2;\n  if(options.uniformSize) smallestRadius = largestRadius;\n  var radRange = [ smallestRadius, largestRadius ];\n\n  // Add Data to the Hex Layer\n  var hexData = [];\n\n  // Check if variable is an array with the same length as the latitute and longitude arrays\n  var variableIsCompatible = entry => Array.isArray(entry) && entry.length == data.mapData.lat.length;\n  var scaleFunctions = {};\n  // Find any variables that may be involved in the hexbin\n  var auxData = Object.assign({}, data.mapData);\n  Object.keys(auxData).forEach(key => {\n    if(key == \"lat\" || key == \"lng\") {\n      delete auxData[key];\n    } else if(variableIsCompatible(auxData[key])) {\n      var array = auxData[key];\n      var min = Math.min(...array);\n      var max = Math.max(...array);\n      var radSizeRange = (largestRadius - smallestRadius);\n      var variableRange = (max - min);\n      scaleFunctions[key] = function(variableValue) {\n        return (((variableValue - min) * radSizeRange) / variableRange) + smallestRadius;\n      };\n    } else {\n      delete auxData[key];\n    }\n  });\n\n  for(i=0; i< data.mapData.lat.length; i++){\n    var tuple = [data.mapData.lat[i], data.mapData.lng[i]];\n    hexData.push(tuple);\n  }\n  if(auxData !== undefined) {\n    for(i=0; i < hexData.length; i++) {\n      var extraVarContainer = {};\n      if(options.sizevar !== undefined) {\n        extraVarContainer[options.sizevar] = auxData[options.sizevar][i];\n      }\n      if(options.colorvar !== undefined) {\n        extraVarContainer[options.colorvar] = auxData[options.colorvar][i];\n      }\n      hexData[i].push(extraVarContainer);\n    }\n  }\n  // hexData is now an Array of arrays (Matrix)\n  // 0: [lat0, lng0, somevariable0, anothervariable0]\n  // 1: [lat1, lng1, somevariable1, anothervariable1]\n  // ...\n\n  // Create Hex Layer\n  hexLayer\n  .radiusRange(radRange)\n  .lat(function(d) { return d[0]; })\n  .lng(function(d) { return d[1]; })\n  .colorValue(buildSumFunction(options.colorSummaryFunction, options.colorvar, \"color\"))\n  .radiusValue(buildSumFunction(options.sizeSummaryFunction, options.sizevar, \"size\")) // Choose summary function based off of parameter inside the data object\n  .data(hexData);\n\n\n  // Zoom in to fit the data in the screen\n  this.fitBounds(hexData);\n\n}).call(this.getMap(), el, x, data);\n}","data":{"radius":20,"highEndColor":"yellow","mapData":{"lat":[43.4568667804866,42.6427631134786,43.9844366055829,43.2753189784675,43.6514100499287,43.6408692507869,43.3015398211468,42.2684762471623,43.8907289465907,42.2517667869419,43.1898615347057,42.7745780032049,42.9190715169496,43.5811970033163,43.7167888227427,41.5338711127921,43.0570353279398,43.1939683922061,43.8283769725445,44.1689974278472,42.0593494435345,43.3379035809403,42.6740454376776,42.382443699384,42.865739615803,43.8080477058027,44.4445618905663,45.0994500713076,42.6883819360423,43.7424864077038,41.9598031799031,42.3955487433703,42.0576458568357,42.8882204353402,43.6192607429456,41.5960448719182,41.6545402327329,41.8799802298618,43.4683065787386,41.0217644050611,42.7826930858751,45.0138118264195,44.1798452107911,42.9957215253589,43.3190986859566,42.6612203566416,44.2380226923371,41.1467456548701,42.5977137222344,43.0442332080264,43.7011701662984,42.4677723118682,43.0994999112528,41.5499232158081,42.7492016517805,42.8131270966374,45.0756859117852,42.6025932729372,42.1770803061194,42.1182602125855,44.7761362262527,42.7291366225366,43.4937290739775,43.7476835633323,43.0853392914302,45.1041101544306,43.3262766438079,44.1918623507777,43.6758151946449,42.1731780751251,42.8131975370374,43.5116950152404,43.3756906891407,43.1241368971761,43.5784095790878,43.9863081785834,42.4582292467771,43.8346637544579,41.620393354648,40.5743491704663,44.0857525083226,43.7134490005509,43.15429155434,42.2204141628594,43.3830814121686,41.9489076740123,44.0316181470098,43.8952952305904,43.7841090515065,42.3096715571116,44.5308547267655,43.8920635333417,44.6168836032996,40.6547536934079,42.3069468591787,41.8218561158357,42.3845926603706,43.1529503999997,42.9751097908319,43.7730107967781],"lng":[-86.5437865944156,-85.5112755153845,-84.8817755262792,-85.7970539627917,-86.3611835525554,-86.2200472675589,-86.6180438680152,-85.0392148701384,-86.5091771016044,-83.7185095786277,-86.0424814922445,-86.810929490628,-85.7403760279092,-85.3313138341734,-85.8178975543201,-86.9011765514658,-86.6753930766455,-85.5110077776719,-85.1353935596092,-86.2966619585911,-84.9856974058681,-85.7630128362106,-85.9890625324106,-84.6596635085933,-86.218192945189,-82.525261065281,-86.5368980839794,-86.6514402851319,-83.899957349835,-86.9667893131202,-86.3201710800977,-84.8575132688589,-85.8687384969943,-86.4213426134617,-86.1500235174201,-84.2820990379223,-87.2051504582757,-87.3948051204439,-83.2785279530872,-85.8722995864131,-86.887723723703,-87.3839361036229,-84.0129910571043,-87.8168984637582,-86.158308100283,-85.0092744574687,-85.7387286221785,-85.5286792223471,-86.88392151154,-84.2384106090622,-85.6333527230578,-85.948232701721,-85.1323740511227,-85.0091651488294,-86.8793140861856,-85.6304486275951,-85.0619319262371,-86.6587086616382,-87.8338756100103,-85.1649477491956,-85.6734279283009,-86.9665911383972,-85.6000774300738,-82.3387531164325,-85.8789986337835,-85.3782134088239,-85.4839794933774,-87.4749909492541,-87.1002347908738,-85.6395270867966,-85.8469835951979,-85.5081364680866,-85.0255920105752,-85.6346964742157,-86.0159281866026,-84.9306804152507,-88.0979285674107,-85.9375748610975,-86.6394342027054,-85.5334709626251,-85.4004100673708,-85.4862859302621,-85.7270423978497,-88.1527134139323,-85.3857214365858,-85.22267630058,-85.3804273408267,-84.2593183243838,-86.9544490693261,-83.8623640075671,-85.912080865474,-86.9504379693007,-87.1315057978159,-84.9866956117679,-84.9174461108605,-86.8419508493919,-85.2637031758666,-86.0775085063864,-86.6346968792968,-86.1970865410933],"size":[17.5679985131137,13.5540170560125,7.88256627740338,16.292576380074,14.6532508230302,8.49378350307234,17.879452604102,12.662799526006,11.3655208190903,10.3377878537867,9.26538269035518,9.41941877244972,7.61577498284169,15.8612217800692,7.74592593079433,8.5700126865413,5.68616947159171,5.40304576279595,10.4665700893383,8.95425136201084,8.83361395448446,13.1702439952642,5.65040169749409,17.3106893722434,16.6001400561072,10.213701747125,8.12107511330396,11.7699748359155,6.9242667069193,10.4254421405494,11.0233275371138,10.1019907626323,9.06745630898513,9.90663517382927,17.9209253878798,10.3584401123226,6.40512249083258,19.5143217721488,7.4658161168918,6.32630548556335,13.6768565815873,7.40002872771583,19.0190085710492,13.1142264895607,9.07401954871602,18.1917621311732,7.28913437807932,19.2522642028052,8.30321306246333,13.9785770163871,13.4093008958735,9.26134408335201,18.3686224010307,19.6280897315592,14.7036154335365,5.34534116508439,16.6497268993407,7.04629312152974,17.5075799738988,14.4333416048903,12.5484554155264,16.2392702070065,6.02922685095109,11.0056800197344,11.570705184713,16.5503679239191,18.7804382259492,10.9011830494273,17.3439614835661,7.64349285396747,19.5196474553086,19.9614778417163,17.6255033456255,18.9331277064048,8.69156820932403,15.3500438435003,7.53389285178855,11.0618305497337,9.38569002202712,17.615316308802,13.7343657587189,6.29094439093024,13.1202975194901,10.5154356663115,19.4251352071296,13.4068915771786,16.3527946337126,6.76213479950093,12.7836529910564,18.0184019904118,9.08862581127323,15.3605915501248,19.2485145619139,10.4175741248764,15.3530394029804,18.5953094461001,17.8777187236119,15.3349003568292,14.7283280675765,8.89872345374897],"color":["green","grey52","gray42","seashell2","powderblue","lightpink4","darkolivegreen","skyblue1","grey59","chartreuse3","seashell4","slategray4","darkseagreen3","chocolate2","grey33","grey91","seagreen3","lemonchiffon","cadetblue4","bisque1","grey28","firebrick3","palevioletred1","brown2","gray86","royalblue2","gray63","deepskyblue1","royalblue3","purple2","darkgray","black","tomato2","gray81","dimgray","darkolivegreen3","gray27","grey22","snow4","blue4","grey71","orchid","skyblue2","darkmagenta","mediumpurple4","darkkhaki","ivory3","grey44","green2","violetred4","navajowhite1","orangered3","grey54","gray2","sienna4","slateblue2","gray67","lightskyblue1","gray85","palevioletred2","darkolivegreen2","mediumorchid4","magenta3","honeydew","white","dodgerblue1","grey7","lightcoral","grey99","grey49","grey21","gray71","sienna1","darkslategrey","sienna","gray95","grey83","gray28","grey41","slateblue1","burlywood4","maroon3","burlywood1","royalblue","grey70","lightpink2","orange4","gray35","lightcyan1","grey90","grey53","peachpuff","gray78","blue2","gray37","steelblue4","grey37","cornsilk3","aquamarine1","lightsteelblue4"]}}}]}}</script><div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb3-1" data-line-number="1"><span class="kw"><a href="https://rdrr.io/r/base/args.html">args</a></span>(addJS)</a>
<a class="sourceLine" id="cb3-2" data-line-number="2"><span class="co">#&gt; function (map, data = NULL, ...) </span></a>
<a class="sourceLine" id="cb3-3" data-line-number="3"><span class="co">#&gt; NULL</span></a>
<a class="sourceLine" id="cb3-4" data-line-number="4"><span class="kw"><a href="https://rdrr.io/r/base/args.html">args</a></span>(addHexbin)</a>
<a class="sourceLine" id="cb3-5" data-line-number="5"><span class="co">#&gt; function (map, data = NULL, radius = 12, opacity = 0.5, duration = 500, </span></a>
<a class="sourceLine" id="cb3-6" data-line-number="6"><span class="co">#&gt;     lowEndColor = "white", highEndColor = "blue", uniformSize = FALSE, </span></a>
<a class="sourceLine" id="cb3-7" data-line-number="7"><span class="co">#&gt;     uniformColor = NULL, sizeSummaryFunction = c("count", "sum", </span></a>
<a class="sourceLine" id="cb3-8" data-line-number="8"><span class="co">#&gt;         "max", "min", "mean", "median"), sizevar = NULL, colorSummaryFunction = c("count", </span></a>
<a class="sourceLine" id="cb3-9" data-line-number="9"><span class="co">#&gt;         "sum", "max", "min", "mean", "median"), colorvar = NULL) </span></a>
<a class="sourceLine" id="cb3-10" data-line-number="10"><span class="co">#&gt; NULL</span></a></code></pre></div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
      </div>

</div>



      <footer><div class="copyright">
  <p>Developed by Randall Pruim, Jason Klaassen.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.3.0.9100.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
