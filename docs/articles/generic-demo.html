<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Generic JS Plugin Demo â€¢ leaflethex</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha256-916EbMg70RQy9LHiGkXzG8hSg9EdNy97GazNG/aiY1w=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.7.1/css/all.min.css" integrity="sha256-nAmazAk6vS34Xqo0BSrTb+abbtFlgsFK7NKSi6o7Y78=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.7.1/css/v4-shims.min.css" integrity="sha256-6qHlizsOWFskGlwVOKuns+D1nB6ssZrHQrNj1wGplHc=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/headroom.min.js" integrity="sha256-DJFC1kqIhelURkuza0AvYal5RxMtpzLjFhsnVIeuk+U=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Generic JS Plugin Demo">
<meta property="og:description" content="">
<meta name="twitter:card" content="summary">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">leaflethex</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.1.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../articles/leaflethex.html">Get started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/Learning-leaflet.html">Hexbin Layer Demo</a>
    </li>
    <li>
      <a href="../articles/generic-demo.html">Generic JS Plugin Demo</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right"></ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><script src="generic-demo_files/htmlwidgets-1.3/htmlwidgets.js"></script><script src="generic-demo_files/jquery-1.12.4/jquery.min.js"></script><link href="generic-demo_files/leaflet-1.3.1/leaflet.css" rel="stylesheet">
<script src="generic-demo_files/leaflet-1.3.1/leaflet.js"></script><link href="generic-demo_files/leafletfix-1.0.0/leafletfix.css" rel="stylesheet">
<script src="generic-demo_files/Proj4Leaflet-1.0.1/proj4-compressed.js"></script><script src="generic-demo_files/Proj4Leaflet-1.0.1/proj4leaflet.js"></script><link href="generic-demo_files/rstudio_leaflet-1.3.1/rstudio_leaflet.css" rel="stylesheet">
<script src="generic-demo_files/leaflet-binding-2.0.2/leaflet.js"></script><link href="generic-demo_files/Some%20JS%20Plugin-1.0.0/hexbin.css" rel="stylesheet">
<script src="generic-demo_files/Some%20JS%20Plugin-1.0.0/deps.js"></script><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1>Generic JS Plugin Demo</h1>
            
      
      
      <div class="hidden name"><code>generic-demo.Rmd</code></div>

    </div>

    
    
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb1-1" data-line-number="1"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span>(leaflethex)</a>
<a class="sourceLine" id="cb1-2" data-line-number="2"><span class="co">#&gt; Loading required package: leaflet</span></a>
<a class="sourceLine" id="cb1-3" data-line-number="3"><span class="co">#&gt; Loading required package: htmltools</span></a>
<a class="sourceLine" id="cb1-4" data-line-number="4"><span class="co">#&gt; Loading required package: htmlwidgets</span></a></code></pre></div>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb2-1" data-line-number="1"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span>(leaflethex)</a>
<a class="sourceLine" id="cb2-2" data-line-number="2"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span>(tibble)</a>
<a class="sourceLine" id="cb2-3" data-line-number="3"></a>
<a class="sourceLine" id="cb2-4" data-line-number="4">df =<span class="st"> </span><span class="kw"><a href="https://tibble.tidyverse.org/reference/tibble.html">tibble</a></span>(</a>
<a class="sourceLine" id="cb2-5" data-line-number="5">  <span class="dt">lat =</span> <span class="kw"><a href="https://rdrr.io/r/stats/Normal.html">rnorm</a></span>(<span class="dv">100</span>),</a>
<a class="sourceLine" id="cb2-6" data-line-number="6">  <span class="dt">lng =</span> <span class="kw"><a href="https://rdrr.io/r/stats/Normal.html">rnorm</a></span>(<span class="dv">100</span>),</a>
<a class="sourceLine" id="cb2-7" data-line-number="7">  <span class="dt">size =</span> <span class="kw"><a href="https://rdrr.io/r/stats/Uniform.html">runif</a></span>(<span class="dv">100</span>, <span class="dv">5</span>, <span class="dv">20</span>),</a>
<a class="sourceLine" id="cb2-8" data-line-number="8">  <span class="dt">color =</span> <span class="kw"><a href="https://rdrr.io/r/base/sample.html">sample</a></span>(<span class="kw"><a href="https://rdrr.io/r/grDevices/colors.html">colors</a></span>(), <span class="dv">100</span>)</a>
<a class="sourceLine" id="cb2-9" data-line-number="9">)</a>
<a class="sourceLine" id="cb2-10" data-line-number="10">df2 &lt;-<span class="st"> </span><span class="kw"><a href="https://tibble.tidyverse.org/reference/tibble.html">tibble</a></span>(</a>
<a class="sourceLine" id="cb2-11" data-line-number="11">  <span class="dt">lat =</span>  <span class="fl">42.9634</span> <span class="op">+</span><span class="st"> </span>stats<span class="op">::</span><span class="kw"><a href="https://rdrr.io/r/stats/Normal.html">rnorm</a></span>(<span class="dv">100</span>),</a>
<a class="sourceLine" id="cb2-12" data-line-number="12">  <span class="dt">lng =</span> <span class="fl">-85.6681</span> <span class="op">+</span><span class="st"> </span>stats<span class="op">::</span><span class="kw"><a href="https://rdrr.io/r/stats/Normal.html">rnorm</a></span>(<span class="dv">100</span>),</a>
<a class="sourceLine" id="cb2-13" data-line-number="13">  <span class="dt">size =</span> <span class="kw"><a href="https://rdrr.io/r/stats/Uniform.html">runif</a></span>(<span class="dv">100</span>, <span class="dv">5</span>, <span class="dv">20</span>),</a>
<a class="sourceLine" id="cb2-14" data-line-number="14">  <span class="dt">color =</span> <span class="kw"><a href="https://rdrr.io/r/base/sample.html">sample</a></span>(<span class="kw"><a href="https://rdrr.io/r/grDevices/colors.html">colors</a></span>(), <span class="dv">100</span>)</a>
<a class="sourceLine" id="cb2-15" data-line-number="15">)</a>
<a class="sourceLine" id="cb2-16" data-line-number="16">addJS &lt;-<span class="st"> </span></a>
<a class="sourceLine" id="cb2-17" data-line-number="17"><span class="st">  </span><span class="kw"><a href="../reference/pluginFactory.html">pluginFactory</a></span>(</a>
<a class="sourceLine" id="cb2-18" data-line-number="18">    <span class="st">"Some JS Plugin"</span>, </a>
<a class="sourceLine" id="cb2-19" data-line-number="19">    <span class="kw"><a href="https://rdrr.io/r/base/system.file.html">system.file</a></span>(<span class="st">"js"</span>, <span class="st">""</span>, <span class="dt">package =</span> <span class="st">"leaflethex"</span>), <span class="st">"hexbin.js"</span>, <span class="st">"deps.js"</span>, <span class="dt">stylesheet=</span><span class="st">"hexbin.css"</span>)</a>
<a class="sourceLine" id="cb2-20" data-line-number="20"></a>
<a class="sourceLine" id="cb2-21" data-line-number="21"><span class="kw">leaflet</span>(df2, <span class="dt">width =</span> <span class="dv">600</span>, <span class="dt">height =</span> <span class="dv">300</span>) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb2-22" data-line-number="22"><span class="st">  </span><span class="kw">addTiles</span>() <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb2-23" data-line-number="23"><span class="st">  </span><span class="kw">addCircles</span>(<span class="dt">color =</span> <span class="st">"red"</span>) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb2-24" data-line-number="24"><span class="st">  </span><span class="kw">addJS</span>(<span class="dt">radius =</span> <span class="dv">20</span>, <span class="dt">highEndColor =</span> <span class="st">"yellow"</span>)</a>
<a class="sourceLine" id="cb2-25" data-line-number="25"><span class="co">#&gt; Assuming "lng" and "lat" are longitude and latitude, respectively</span></a></code></pre></div>
<div id="htmlwidget-47796c3e203ee1a971aa" style="width:600px;height:300px;" class="leaflet html-widget"></div>
<script type="application/json" data-for="htmlwidget-47796c3e203ee1a971aa">{"x":{"options":{"crs":{"crsClass":"L.CRS.EPSG3857","code":null,"proj4def":null,"projectedBounds":null,"options":{}}},"calls":[{"method":"addTiles","args":["//{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",null,null,{"minZoom":0,"maxZoom":18,"tileSize":256,"subdomains":"abc","errorTileUrl":"","tms":false,"noWrap":false,"zoomOffset":0,"zoomReverse":false,"opacity":1,"zIndex":1,"detectRetina":false,"attribution":"&copy; <a href=\"http://openstreetmap.org\">OpenStreetMap<\/a> contributors, <a href=\"http://creativecommons.org/licenses/by-sa/2.0/\">CC-BY-SA<\/a>"}]},{"method":"addCircles","args":[[43.7436790373433,42.5149445026632,43.8965355662717,44.7233573068279,42.7026805566958,42.4071942164607,42.0266378352495,43.1490212182885,42.9460132430172,44.2450452028155,42.9168214513311,43.0179522173387,44.5045014587499,43.3320901312797,42.9151795216736,44.1947976860895,41.7913028809978,44.0904776337464,42.9878291962317,43.1068614002245,43.7058145144937,44.0421525876013,43.0672645028569,44.708820256008,41.4836969426594,42.5284706550377,42.5948014285444,43.7395684533941,41.8912949765818,42.9541219892151,43.7187485366147,43.0537252701668,44.0654023772677,43.6126963147859,43.2996403966511,42.0032172479348,42.8733033272884,44.4694910255462,42.789088460603,42.3765118635748,44.2761107647021,44.2883484250491,44.1382388358125,40.3005225535604,43.9415101746802,44.9860124728346,43.1800985331911,43.3913643285141,43.9689480503013,43.2025241795016,43.246824820533,42.0240381900029,43.7251208762061,42.5841501208217,43.4410736190046,41.8131906376466,41.425370611624,43.4485128406175,41.7771354624945,41.8652740440772,42.1997471331594,42.7435375877001,42.6341948250966,45.4333677996484,41.1398185890472,42.1735262696874,43.0420747841542,42.6454170207375,41.8643939759144,44.2276955273079,44.6099266264896,44.1725113170111,43.1827928529897,42.1475189448247,41.8907911867092,43.9182954223948,41.6487009682357,42.2959790292917,44.4449043336154,42.7493361068118,43.0733015549335,41.6871721675564,43.0477955633959,41.9094113260774,41.6503945962857,43.4710441617422,42.7801472503031,43.5773318536988,41.7035745627619,43.7852037547033,43.6133306913162,44.4575032118121,43.1153297444952,43.7022116070969,44.4135558407399,41.8155244788372,42.6094500725823,43.2779503535599,42.6975108763165,42.319051312283],[-84.7481342523868,-86.2462898807942,-85.2017326474995,-85.6979528969564,-87.9394631194424,-84.4583900191818,-85.855322316543,-85.2667938156749,-85.3104777051698,-83.5896000675218,-85.7013152368559,-84.9751346380566,-84.8210043893737,-85.6569864216346,-85.2610318965215,-85.1068304730239,-87.8249346258612,-86.2959322914808,-87.4760597982945,-84.4417107292532,-86.2844100302066,-84.4730449145569,-85.0005904386661,-84.3785059190709,-83.8811110104264,-86.3163391479619,-87.6458628805902,-85.438078182868,-85.9307994471705,-87.0317191829201,-86.7018153542259,-85.4862999322394,-85.9101834630964,-85.5303793010127,-85.9838492770672,-87.745776665806,-85.8891609506742,-85.7574760926243,-85.7465337638727,-86.250556875818,-83.765969408505,-85.8284622134198,-85.4731172507124,-85.820096849423,-84.731803684012,-85.3960029407922,-86.2292313267886,-86.4364171801079,-86.4941542681978,-85.4681472260074,-84.151108567031,-84.2536978412459,-84.9379977270038,-86.6889757941517,-85.1256611133532,-84.9560276853897,-87.3681455831546,-84.6539132754949,-86.5343999933529,-86.8187780995125,-87.5336639537433,-86.4653484686964,-85.1646576381884,-85.7363986687765,-85.8125568956283,-85.6661707335525,-85.5458078858966,-87.2426978767489,-86.1437210163773,-83.973026816417,-87.0027314779963,-85.7864279375442,-85.0667841300639,-85.7582116822551,-85.9097297853333,-84.3167266509609,-84.5657953670745,-85.4578500299321,-87.7421730992192,-85.7059700826958,-84.7805049814217,-85.6819560227236,-86.9421942260833,-84.7081686440061,-86.7721316449242,-85.7667760066993,-86.6620312415827,-84.9212709946284,-86.7605246801788,-84.8252558401964,-84.9897252201941,-85.4409729297681,-85.8369368392736,-87.4520705499622,-83.5637493574337,-83.9968704243292,-86.7347680645763,-86.0822277076365,-84.0218596010117,-84.4195831949051],10,null,null,{"interactive":true,"className":"","stroke":true,"color":"red","weight":5,"opacity":0.5,"fill":true,"fillColor":"red","fillOpacity":0.2},null,null,null,{"interactive":false,"permanent":false,"direction":"auto","opacity":1,"offset":[0,0],"textsize":"10px","textOnly":false,"className":"","sticky":true},null,null]}],"limits":{"lat":[40.3005225535604,45.4333677996484],"lng":[-87.9394631194424,-83.5637493574337]}},"evals":[],"jsHooks":{"render":[{"code":"function(el, x, data) {\n  return (function(el, x, data = null) {\n\n  // Built-in Summary Functions\n  var summaryFunctions = [\"count\", \"sum\", \"max\", \"min\", \"mean\", \"median\"];\n\n  // Utility function for saving defaults for data parameters\n  var param = function(name, defaultValue) { return { name: name, defaultValue : defaultValue}  };\n\n  // Create a list of accepted parameters to this script\n  var parameters = [\n    param(\"radius\", 12),\n    param(\"opacity\", 0.5),\n    param(\"duration\", 500),\n    param(\"lowEndColor\", 'white'),\n    param(\"highEndColor\", 'blue'),\n    param(\"uniformSize\", false),\n    param(\"uniformColor\", 'blue'),\n    param(\"sizeSummaryFunction\", \"count\"),\n    param(\"colorSummaryFunction\", \"count\"),\n    param(\"sizevar\", undefined),\n    param(\"colorvar\", undefined)\n  ];\n\n  // Function to build the options object for later use\n  var buildOptions = function() {\n\n    // Initialize the object that will be filled and returned\n    var result = {};\n\n    // Create options object with given values or default values if none are provided\n    parameters.forEach(entry => {\n      var parameterValue = data[entry.name];\n      if(parameterValue !== undefined && parameterValue !== null) {\n        result[entry.name] = parameterValue;\n      } else {\n        result[entry.name] = entry.defaultValue;\n      }\n    });\n    // if no colorvar is set, then mirror with sizevar\n    if (result.colorvar === undefined) {\n      result.colorvar = result.sizevar;\n    }\n    // Return options chosen by the user plus defaults for unchosen fields\n    return result;\n  };\n  // Set Options based on parameters given by the data parameters\n  var options = buildOptions();\n\n\n  // Builds a function to calculate per hexagon from the function name\n  // or valid js string and variable name to use\n  var buildSumFunction = function(functionToUse, variableToUse, variableType) {\n    var retFunction;\n    var count = dataPointsPerHex => dataPointsPerHex.length;\n    // Default to using count\n    if(functionToUse == \"count\" || variableToUse === undefined) return count;\n    if(!summaryFunctions.includes(functionToUse)) {\n      console.warn(\"Using Custom Function as no supported functions were matched\");\n      // User defined function\n      retFunction = Function('\"use strict\";return (' + functionToUse + ')');\n    } else {\n      retFunction = function(dataPointsPerHex) {\n        // Set the inital value for the result\n        var result = 0;\n        if(functionToUse == \"max\") result = Number.MIN_VALUE;\n        if(functionToUse == \"min\") result = Number.MAX_VALUE;\n        if(functionToUse == \"sum\") result = 0;\n\n        console.log(dataPointsPerHex.length);\n        if(functionToUse == \"median\") {\n          var values = dataPointsPerHex.map(point => point.o[2][variableToUse]);\n          if(values.length < 3) {\n            if(values.length == 1) result = values[0];\n            else if(values.length == 0) result = 0;\n            else result = (values[0] + values[1]) / 2;\n          } else {\n            values.sort((a, b) => a - b);\n            var index = (values.length + 1) / 2;\n            if(Number.isInteger(index)) {\n              result = values[index];\n            } else {\n              result = (values[Math.floor(index)] + values[Math.ceil(index)]) / 2;\n            }\n          }\n\n        } else {\n          dataPointsPerHex.forEach(point => {\n            var value = point.o[2][variableToUse];\n            if(functionToUse == \"mean\") result += value;\n            if(functionToUse == \"sum\") result += value;\n            if(functionToUse == \"max\") result = result > value ? result : value;\n            if(functionToUse == \"min\") result = result < value ? result : value;\n          });\n          if(functionToUse == \"mean\") result /= dataPointsPerHex.length;\n          if(variableType == \"size\") result = scaleFunctions[variableToUse](result);\n        }\n        return result;\n      };\n      return retFunction;\n    }\n  };\n\n  // Add Options to hexlayer\n  var hexLayer = L.hexbinLayer(options).addTo(this);\n\n  // Add ColorScale\n  var colorScale = [options.lowEndColor, options.highEndColor];\n  if(data.uniformColor !== null && data.uniformColor !== undefined) {\n    colorScale = [data.uniformColor, data.uniformColor];\n  }\n  hexLayer.colorScale().range(colorScale);\n\n  // Set Radius range based on radius given through data parameter\n  var largestRadius = options.radius - 1 / options.radius; // 1/radius is a small buffer between hexagons\n  var smallestRadius = options.radius / 2;\n  if(options.uniformSize) smallestRadius = largestRadius;\n  var radRange = [ smallestRadius, largestRadius ];\n\n  // Add Data to the Hex Layer\n  var hexData = [];\n\n  // Check if variable is an array with the same length as the latitute and longitude arrays\n  var variableIsCompatible = entry => Array.isArray(entry) && entry.length == data.mapData.lat.length;\n  var scaleFunctions = {};\n  // Find any variables that may be involved in the hexbin\n  var auxData = Object.assign({}, data.mapData);\n  Object.keys(auxData).forEach(key => {\n    if(key == \"lat\" || key == \"lng\") {\n      delete auxData[key];\n    } else if(variableIsCompatible(auxData[key])) {\n      var array = auxData[key];\n      var min = Math.min(...array);\n      var max = Math.max(...array);\n      var radSizeRange = (largestRadius - smallestRadius);\n      var variableRange = (max - min);\n      scaleFunctions[key] = function(variableValue) {\n        return (((variableValue - min) * radSizeRange) / variableRange) + smallestRadius;\n      };\n    } else {\n      delete auxData[key];\n    }\n  });\n\n  for(i=0; i< data.mapData.lat.length; i++){\n    var tuple = [data.mapData.lat[i], data.mapData.lng[i]];\n    hexData.push(tuple);\n  }\n  if(auxData !== undefined) {\n    for(i=0; i < hexData.length; i++) {\n      var extraVarContainer = {};\n      if(options.sizevar !== undefined) {\n        extraVarContainer[options.sizevar] = auxData[options.sizevar][i];\n      }\n      if(options.colorvar !== undefined) {\n        extraVarContainer[options.colorvar] = auxData[options.colorvar][i];\n      }\n      hexData[i].push(extraVarContainer);\n    }\n  }\n  // hexData is now an Array of arrays (Matrix)\n  // 0: [lat0, lng0, somevariable0, anothervariable0]\n  // 1: [lat1, lng1, somevariable1, anothervariable1]\n  // ...\n\n  // Create Hex Layer\n  hexLayer\n  .radiusRange(radRange)\n  .lat(function(d) { return d[0]; })\n  .lng(function(d) { return d[1]; })\n  .colorValue(buildSumFunction(options.colorSummaryFunction, options.colorvar, \"color\"))\n  .radiusValue(buildSumFunction(options.sizeSummaryFunction, options.sizevar, \"size\")) // Choose summary function based off of parameter inside the data object\n  .data(hexData);\n\n\n  // Zoom in to fit the data in the screen\n  this.fitBounds(hexData);\n\n}).call(this.getMap(), el, x, data);\n}","data":{"radius":20,"highEndColor":"yellow","mapData":{"lat":[43.7436790373433,42.5149445026632,43.8965355662717,44.7233573068279,42.7026805566958,42.4071942164607,42.0266378352495,43.1490212182885,42.9460132430172,44.2450452028155,42.9168214513311,43.0179522173387,44.5045014587499,43.3320901312797,42.9151795216736,44.1947976860895,41.7913028809978,44.0904776337464,42.9878291962317,43.1068614002245,43.7058145144937,44.0421525876013,43.0672645028569,44.708820256008,41.4836969426594,42.5284706550377,42.5948014285444,43.7395684533941,41.8912949765818,42.9541219892151,43.7187485366147,43.0537252701668,44.0654023772677,43.6126963147859,43.2996403966511,42.0032172479348,42.8733033272884,44.4694910255462,42.789088460603,42.3765118635748,44.2761107647021,44.2883484250491,44.1382388358125,40.3005225535604,43.9415101746802,44.9860124728346,43.1800985331911,43.3913643285141,43.9689480503013,43.2025241795016,43.246824820533,42.0240381900029,43.7251208762061,42.5841501208217,43.4410736190046,41.8131906376466,41.425370611624,43.4485128406175,41.7771354624945,41.8652740440772,42.1997471331594,42.7435375877001,42.6341948250966,45.4333677996484,41.1398185890472,42.1735262696874,43.0420747841542,42.6454170207375,41.8643939759144,44.2276955273079,44.6099266264896,44.1725113170111,43.1827928529897,42.1475189448247,41.8907911867092,43.9182954223948,41.6487009682357,42.2959790292917,44.4449043336154,42.7493361068118,43.0733015549335,41.6871721675564,43.0477955633959,41.9094113260774,41.6503945962857,43.4710441617422,42.7801472503031,43.5773318536988,41.7035745627619,43.7852037547033,43.6133306913162,44.4575032118121,43.1153297444952,43.7022116070969,44.4135558407399,41.8155244788372,42.6094500725823,43.2779503535599,42.6975108763165,42.319051312283],"lng":[-84.7481342523868,-86.2462898807942,-85.2017326474995,-85.6979528969564,-87.9394631194424,-84.4583900191818,-85.855322316543,-85.2667938156749,-85.3104777051698,-83.5896000675218,-85.7013152368559,-84.9751346380566,-84.8210043893737,-85.6569864216346,-85.2610318965215,-85.1068304730239,-87.8249346258612,-86.2959322914808,-87.4760597982945,-84.4417107292532,-86.2844100302066,-84.4730449145569,-85.0005904386661,-84.3785059190709,-83.8811110104264,-86.3163391479619,-87.6458628805902,-85.438078182868,-85.9307994471705,-87.0317191829201,-86.7018153542259,-85.4862999322394,-85.9101834630964,-85.5303793010127,-85.9838492770672,-87.745776665806,-85.8891609506742,-85.7574760926243,-85.7465337638727,-86.250556875818,-83.765969408505,-85.8284622134198,-85.4731172507124,-85.820096849423,-84.731803684012,-85.3960029407922,-86.2292313267886,-86.4364171801079,-86.4941542681978,-85.4681472260074,-84.151108567031,-84.2536978412459,-84.9379977270038,-86.6889757941517,-85.1256611133532,-84.9560276853897,-87.3681455831546,-84.6539132754949,-86.5343999933529,-86.8187780995125,-87.5336639537433,-86.4653484686964,-85.1646576381884,-85.7363986687765,-85.8125568956283,-85.6661707335525,-85.5458078858966,-87.2426978767489,-86.1437210163773,-83.973026816417,-87.0027314779963,-85.7864279375442,-85.0667841300639,-85.7582116822551,-85.9097297853333,-84.3167266509609,-84.5657953670745,-85.4578500299321,-87.7421730992192,-85.7059700826958,-84.7805049814217,-85.6819560227236,-86.9421942260833,-84.7081686440061,-86.7721316449242,-85.7667760066993,-86.6620312415827,-84.9212709946284,-86.7605246801788,-84.8252558401964,-84.9897252201941,-85.4409729297681,-85.8369368392736,-87.4520705499622,-83.5637493574337,-83.9968704243292,-86.7347680645763,-86.0822277076365,-84.0218596010117,-84.4195831949051],"size":[18.8300286314916,7.10091541754082,13.9219450962264,5.32966930069961,9.74597763968632,16.3377549080178,19.6932239155285,19.3261871894356,16.2578845664393,8.28401022707112,5.53005657740869,8.12631855951622,6.8476816418115,6.83362197712995,8.08662594179623,19.4881943811197,10.0862433807924,9.08644236740656,7.03227165737189,15.2234019548632,10.5385312286671,9.12271893001162,7.95945734484121,13.2320074632298,10.6540831364691,7.60855871951208,8.16181217553094,7.56502622622065,17.6911298790947,8.08987860218622,9.12806793581694,8.26808763900772,16.7331632587593,12.6518335693981,9.9886458273977,7.80083008226939,19.861115590902,8.10652759042569,15.4885803372599,5.12614362989552,9.00422591017559,9.98051076778211,12.3736135778017,7.63945714919828,10.4109192953911,7.4928770668339,16.4737080852501,10.4541076661553,8.38068204815499,5.22778503946029,19.578079902567,10.8507019828539,19.2557189404033,5.79784086556174,17.6162860356271,5.42231036582962,8.46898006508127,11.6208428656682,15.4569815751165,6.73109148512594,12.8883596765809,18.7361871905159,19.464109436376,17.4069871997926,18.9686956629157,10.7550317258574,8.97771283285692,16.8426293844823,16.2116260023322,14.9502646236215,8.73553362092935,16.3593709701672,16.6709666943643,8.66695774020627,5.58366135577671,14.4283850048669,15.5065506661776,12.4897077388596,9.94764875154942,7.90716789662838,11.6958840331063,8.75739912153222,17.0512946567032,7.47863894095644,19.9795809015632,8.27879489865154,9.61370283970609,12.9001980740577,19.4838709919713,15.5014437122736,6.10358450212516,8.67545796441846,5.6291420024354,10.3375891782343,12.7787913789507,10.6172666046768,16.1300647410098,6.08393838279881,6.27911614603363,11.9934046629351],"color":["gold2","grey52","gray58","seagreen3","grey49","grey94","royalblue3","mistyrose2","gray20","gray29","orangered1","blue4","tomato3","cyan1","yellow2","grey37","dimgrey","honeydew","antiquewhite1","lavenderblush4","grey59","cyan4","palevioletred","lightgoldenrod","purple2","slategray4","grey61","red4","grey18","chartreuse","cornsilk","lightgreen","navajowhite3","lightyellow3","cyan3","plum3","lightyellow1","forestgreen","firebrick1","hotpink2","green3","mediumblue","grey57","sienna3","deeppink","darkturquoise","gray26","grey80","gray94","coral1","gray96","magenta1","lavenderblush1","khaki4","antiquewhite4","lavenderblush2","maroon3","mediumorchid","deepskyblue4","gray80","skyblue1","lightsteelblue4","grey53","lightpink1","aquamarine2","azure","deeppink3","lightyellow2","tomato2","linen","coral3","gray98","grey50","wheat3","palevioletred3","gray27","grey12","lightpink2","rosybrown","tan","gray88","grey63","orchid1","goldenrod4","lightseagreen","lightcyan2","gray50","orange","lightgoldenrod3","pink4","cyan","grey2","grey40","grey27","olivedrab4","gray57","lightblue1","grey0","cornflowerblue","gray0"]}}}]}}</script><div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb3-1" data-line-number="1"><span class="kw"><a href="https://rdrr.io/r/base/args.html">args</a></span>(addJS)</a>
<a class="sourceLine" id="cb3-2" data-line-number="2"><span class="co">#&gt; function (map, data = NULL, ...) </span></a>
<a class="sourceLine" id="cb3-3" data-line-number="3"><span class="co">#&gt; NULL</span></a>
<a class="sourceLine" id="cb3-4" data-line-number="4"><span class="kw"><a href="https://rdrr.io/r/base/args.html">args</a></span>(addHexbin)</a>
<a class="sourceLine" id="cb3-5" data-line-number="5"><span class="co">#&gt; function (map, data = NULL, radius = 12, opacity = 0.5, duration = 500, </span></a>
<a class="sourceLine" id="cb3-6" data-line-number="6"><span class="co">#&gt;     lowEndColor = "white", highEndColor = "blue", uniformSize = FALSE, </span></a>
<a class="sourceLine" id="cb3-7" data-line-number="7"><span class="co">#&gt;     uniformColor = NULL, sizeSummaryFunction = c("count", "sum", </span></a>
<a class="sourceLine" id="cb3-8" data-line-number="8"><span class="co">#&gt;         "max", "min", "mean", "median"), sizevar = NULL, colorSummaryFunction = c("count", </span></a>
<a class="sourceLine" id="cb3-9" data-line-number="9"><span class="co">#&gt;         "sum", "max", "min", "mean", "median"), colorvar = NULL) </span></a>
<a class="sourceLine" id="cb3-10" data-line-number="10"><span class="co">#&gt; NULL</span></a></code></pre></div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
      </div>

</div>



      <footer><div class="copyright">
  <p>Developed by Randall Pruim, Jason Klaassen.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.3.0.9100.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
