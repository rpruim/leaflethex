<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Generic JS Plugin Demo â€¢ leaflethex</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha256-916EbMg70RQy9LHiGkXzG8hSg9EdNy97GazNG/aiY1w=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" integrity="sha256-eZrrJcwDc/3uDhsdt61sL2oOBY362qM3lon1gyExkL0=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script><!-- sticky kit --><script src="https://cdnjs.cloudflare.com/ajax/libs/sticky-kit/1.1.3/sticky-kit.min.js" integrity="sha256-c4Rlo1ZozqTPE2RLuvbusY3+SU1pQaJC0TjuhygMipw=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Generic JS Plugin Demo">
<meta property="og:description" content="">
<meta name="twitter:card" content="summary">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">leaflethex</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.1.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../articles/leaflethex.html">Get started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/generic-demo.html">Generic JS Plugin Demo</a>
    </li>
    <li>
      <a href="../articles/Learning-leaflet.html">Hexbin Layer Demo</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right"></ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      
      </header><script src="generic-demo_files/htmlwidgets-1.3/htmlwidgets.js"></script><script src="generic-demo_files/jquery-1.12.4/jquery.min.js"></script><link href="generic-demo_files/leaflet-1.3.1/leaflet.css" rel="stylesheet">
<script src="generic-demo_files/leaflet-1.3.1/leaflet.js"></script><link href="generic-demo_files/leafletfix-1.0.0/leafletfix.css" rel="stylesheet">
<script src="generic-demo_files/Proj4Leaflet-1.0.1/proj4-compressed.js"></script><script src="generic-demo_files/Proj4Leaflet-1.0.1/proj4leaflet.js"></script><link href="generic-demo_files/rstudio_leaflet-1.3.1/rstudio_leaflet.css" rel="stylesheet">
<script src="generic-demo_files/leaflet-binding-2.0.2/leaflet.js"></script><link href="generic-demo_files/Some%20JS%20Plugin-1.0.0/hexbin.css" rel="stylesheet">
<script src="generic-demo_files/Some%20JS%20Plugin-1.0.0/deps.js"></script><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1>Generic JS Plugin Demo</h1>
            
      
      
      <div class="hidden name"><code>generic-demo.Rmd</code></div>

    </div>

    
    
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb1-1" title="1"><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/library">library</a></span>(leaflethex)</a>
<a class="sourceLine" id="cb1-2" title="2"><span class="co">#&gt; Loading required package: leaflet</span></a>
<a class="sourceLine" id="cb1-3" title="3"><span class="co">#&gt; Loading required package: htmltools</span></a>
<a class="sourceLine" id="cb1-4" title="4"><span class="co">#&gt; Loading required package: htmlwidgets</span></a></code></pre></div>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb2-1" title="1"><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/library">library</a></span>(leaflethex)</a>
<a class="sourceLine" id="cb2-2" title="2"><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/library">library</a></span>(tibble)</a>
<a class="sourceLine" id="cb2-3" title="3"></a>
<a class="sourceLine" id="cb2-4" title="4">df =<span class="st"> </span><span class="kw">tibble</span>(</a>
<a class="sourceLine" id="cb2-5" title="5">  <span class="dt">lat =</span> <span class="kw"><a href="https://www.rdocumentation.org/packages/stats/topics/Normal">rnorm</a></span>(<span class="dv">100</span>),</a>
<a class="sourceLine" id="cb2-6" title="6">  <span class="dt">lng =</span> <span class="kw"><a href="https://www.rdocumentation.org/packages/stats/topics/Normal">rnorm</a></span>(<span class="dv">100</span>),</a>
<a class="sourceLine" id="cb2-7" title="7">  <span class="dt">size =</span> <span class="kw"><a href="https://www.rdocumentation.org/packages/stats/topics/Uniform">runif</a></span>(<span class="dv">100</span>, <span class="dv">5</span>, <span class="dv">20</span>),</a>
<a class="sourceLine" id="cb2-8" title="8">  <span class="dt">color =</span> <span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/sample">sample</a></span>(<span class="kw"><a href="https://www.rdocumentation.org/packages/grDevices/topics/colors">colors</a></span>(), <span class="dv">100</span>)</a>
<a class="sourceLine" id="cb2-9" title="9">)</a>
<a class="sourceLine" id="cb2-10" title="10">df2 &lt;-<span class="st"> </span><span class="kw">tibble</span>(</a>
<a class="sourceLine" id="cb2-11" title="11">  <span class="dt">lat =</span>  <span class="fl">42.9634</span> <span class="op">+</span><span class="st"> </span>stats<span class="op">::</span><span class="kw"><a href="https://www.rdocumentation.org/packages/stats/topics/Normal">rnorm</a></span>(<span class="dv">100</span>),</a>
<a class="sourceLine" id="cb2-12" title="12">  <span class="dt">lng =</span> <span class="fl">-85.6681</span> <span class="op">+</span><span class="st"> </span>stats<span class="op">::</span><span class="kw"><a href="https://www.rdocumentation.org/packages/stats/topics/Normal">rnorm</a></span>(<span class="dv">100</span>),</a>
<a class="sourceLine" id="cb2-13" title="13">  <span class="dt">size =</span> <span class="kw"><a href="https://www.rdocumentation.org/packages/stats/topics/Uniform">runif</a></span>(<span class="dv">100</span>, <span class="dv">5</span>, <span class="dv">20</span>),</a>
<a class="sourceLine" id="cb2-14" title="14">  <span class="dt">color =</span> <span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/sample">sample</a></span>(<span class="kw"><a href="https://www.rdocumentation.org/packages/grDevices/topics/colors">colors</a></span>(), <span class="dv">100</span>)</a>
<a class="sourceLine" id="cb2-15" title="15">)</a>
<a class="sourceLine" id="cb2-16" title="16">addJS &lt;-<span class="st"> </span></a>
<a class="sourceLine" id="cb2-17" title="17"><span class="st">  </span><span class="kw"><a href="../reference/pluginFactory.html">pluginFactory</a></span>(</a>
<a class="sourceLine" id="cb2-18" title="18">    <span class="st">"Some JS Plugin"</span>, </a>
<a class="sourceLine" id="cb2-19" title="19">    <span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/system.file">system.file</a></span>(<span class="st">"js"</span>, <span class="st">""</span>, <span class="dt">package =</span> <span class="st">"leaflethex"</span>), <span class="st">"hexbin.js"</span>, <span class="st">"deps.js"</span>, <span class="dt">stylesheet=</span><span class="st">"hexbin.css"</span>)</a>
<a class="sourceLine" id="cb2-20" title="20"></a>
<a class="sourceLine" id="cb2-21" title="21"><span class="kw">leaflet</span>(df2, <span class="dt">width =</span> <span class="dv">600</span>, <span class="dt">height =</span> <span class="dv">300</span>) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb2-22" title="22"><span class="st">  </span><span class="kw">addTiles</span>() <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb2-23" title="23"><span class="st">  </span><span class="kw">addCircles</span>(<span class="dt">color =</span> <span class="st">"red"</span>) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb2-24" title="24"><span class="st">  </span><span class="kw">addJS</span>(<span class="dt">radius =</span> <span class="dv">20</span>, <span class="dt">highEndColor =</span> <span class="st">"yellow"</span>)</a>
<a class="sourceLine" id="cb2-25" title="25"><span class="co">#&gt; Assuming "lng" and "lat" are longitude and latitude, respectively</span></a></code></pre></div>
<div id="htmlwidget-b63de1758c826e35a0eb" style="width:600px;height:300px;" class="leaflet html-widget"></div>
<script type="application/json" data-for="htmlwidget-b63de1758c826e35a0eb">{"x":{"options":{"crs":{"crsClass":"L.CRS.EPSG3857","code":null,"proj4def":null,"projectedBounds":null,"options":{}}},"calls":[{"method":"addTiles","args":["//{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",null,null,{"minZoom":0,"maxZoom":18,"tileSize":256,"subdomains":"abc","errorTileUrl":"","tms":false,"noWrap":false,"zoomOffset":0,"zoomReverse":false,"opacity":1,"zIndex":1,"detectRetina":false,"attribution":"&copy; <a href=\"http://openstreetmap.org\">OpenStreetMap<\/a> contributors, <a href=\"http://creativecommons.org/licenses/by-sa/2.0/\">CC-BY-SA<\/a>"}]},{"method":"addCircles","args":[[41.7515642142105,42.2497908841126,42.4233964941227,43.1642059753766,41.6505575631596,44.8377201329599,43.0048373667679,43.0394885252637,43.1065638577785,42.6188935943255,41.8473546966038,43.5017373250914,42.8469518825982,43.057410768356,42.9025552311147,43.9390105473835,43.0404621209615,42.5203144034141,44.8378783648672,44.0852170801969,42.2998173602084,43.7096165268763,41.3722706557495,44.2692437753751,42.8723533989575,41.3613706880175,42.644113829414,42.2115607466165,43.4230036547546,41.6524685176234,41.980959197866,43.4911829270115,44.165337096069,43.5597809490711,43.352867465884,42.1077186037449,43.7332150385773,40.9912986922144,42.8809162947789,43.8806997572695,43.6103300489155,44.0025837897935,43.5564067417317,42.5246094750405,43.4736334743718,43.6736781014355,43.0562529215995,43.5874771816835,41.0534764389336,43.4220130096991,43.2234103508513,43.9496248010319,41.6975480325629,41.9116020594285,43.1739007149973,42.6887809491454,42.1271755226249,43.0070661330954,42.613871634324,44.2047396854997,43.2137291263809,42.5792143298157,40.4718606878364,43.3273325220422,42.7336438423971,44.9648254579084,43.2062694705312,41.0649223107329,42.2606330934059,42.5679229095133,43.8243802408642,43.2043798187155,42.7539190126401,43.6057232481975,41.5801221848413,42.0155817147038,42.2495335604014,43.1951934332585,40.7906570612033,42.6046985498296,43.0941599024202,44.6288160530389,44.6883207207702,42.6806282474702,44.0798942939506,42.8902412211165,42.9449774276501,42.1250746136233,41.6170686281944,43.611703046992,42.1598118712479,43.8306327009733,41.8119417022954,42.91559625681,41.978906368629,43.9934117084507,43.6197394665995,43.5228089893027,43.972123714128,43.420685940438],[-86.1655731098539,-85.316603687757,-85.3778426463595,-86.2130817096146,-86.1330155166974,-87.2483593700702,-87.6480810773092,-84.8243989606212,-86.2653235059815,-86.1686866931554,-87.5685565595805,-86.8785020538203,-85.63079092828,-86.3564850797125,-86.0633215355312,-86.7504959461931,-84.5037695987194,-85.385229435269,-84.0925937351599,-85.5404809742005,-84.6564675368051,-85.9206721486015,-84.5755932619905,-86.5512301984343,-85.2365982309716,-85.8763395547494,-86.7071427651195,-85.4501384881157,-87.1659913554111,-86.1014342220677,-85.4081896357414,-85.3865050173506,-86.6187546575017,-85.9000790522244,-86.4611271063881,-85.4418414883425,-85.1054120792516,-86.3638289143243,-85.6781398756969,-85.091775954119,-85.6269834104234,-84.7630320129118,-85.2586361685658,-84.9579213397312,-85.0357690745477,-85.3599080557777,-86.1465703765462,-86.2344358612845,-84.9561317237555,-85.4453054125546,-86.7417278084417,-86.1336573608804,-84.9669342774269,-85.6926688478912,-84.6954884697456,-85.5859889593378,-85.5415864759095,-85.085938598297,-85.5651663207257,-85.3646306905957,-85.2050464651262,-84.8153817770701,-84.5371870151651,-86.1877303270492,-87.2626388485357,-84.9051119002431,-85.4177052849312,-87.364088527901,-83.3290846471718,-86.4918161681853,-86.1907543813337,-84.6448943837102,-86.3759190643278,-85.1885099379542,-83.7557787781145,-83.9239600539539,-84.4130381537061,-85.0220045084663,-84.7702919917259,-86.4288360182256,-84.3283470191412,-84.8664837605091,-85.0808693821686,-85.8270311622329,-85.4255287165659,-85.4076088368627,-86.397432553623,-84.663763300115,-84.0711055667416,-85.5232393492463,-85.6154457288405,-87.3753966808672,-85.0730504341975,-85.5080385640996,-85.6525407210388,-85.4121800399752,-85.8008582478816,-85.9388393595274,-84.8539567564385,-85.8713546895032],10,null,null,{"interactive":true,"className":"","stroke":true,"color":"red","weight":5,"opacity":0.5,"fill":true,"fillColor":"red","fillOpacity":0.2},null,null,null,{"interactive":false,"permanent":false,"direction":"auto","opacity":1,"offset":[0,0],"textsize":"10px","textOnly":false,"className":"","sticky":true},null,null]}],"limits":{"lat":[40.4718606878364,44.9648254579084],"lng":[-87.6480810773092,-83.3290846471718]}},"evals":[],"jsHooks":{"render":[{"code":"function(el, x, data) {\n  return (function(el, x, data = null) {\r\n\r\n  // Built-in Summary Functions\r\n  var summaryFunctions = [\"count\", \"sum\", \"max\", \"min\", \"mean\", \"median\"];\r\n\r\n  // Utility function for saving defaults for data parameters\r\n  var param = function(name, defaultValue) { return { name: name, defaultValue : defaultValue}  };\r\n\r\n  // Create a list of accepted parameters to this script\r\n  var parameters = [\r\n    param(\"radius\", 12),\r\n    param(\"opacity\", 0.5),\r\n    param(\"duration\", 500),\r\n    param(\"lowEndColor\", 'white'),\r\n    param(\"highEndColor\", 'blue'),\r\n    param(\"uniformSize\", false),\r\n    param(\"uniformColor\", 'blue'),\r\n    param(\"sizeSummaryFunction\", \"count\"),\r\n    param(\"colorSummaryFunction\", \"count\"),\r\n    param(\"sizevar\", undefined),\r\n    param(\"colorvar\", undefined)\r\n  ];\r\n\r\n  // Function to build the options object for later use\r\n  var buildOptions = function() {\r\n\r\n    // Initialize the object that will be filled and returned\r\n    var result = {};\r\n\r\n    // Create options object with given values or default values if none are provided\r\n    parameters.forEach(entry => {\r\n      var parameterValue = data[entry.name];\r\n      if(parameterValue !== undefined && parameterValue !== null) {\r\n        result[entry.name] = parameterValue;\r\n      } else {\r\n        result[entry.name] = entry.defaultValue;\r\n      }\r\n    });\r\n    // if no colorvar is set, then mirror with sizevar\r\n    if (result.colorvar === undefined) {\r\n      result.colorvar = result.sizevar;\r\n    }\r\n    // Return options chosen by the user plus defaults for unchosen fields\r\n    return result;\r\n  };\r\n  // Set Options based on parameters given by the data parameters\r\n  var options = buildOptions();\r\n\r\n\r\n  // Builds a function to calculate per hexagon from the function name\r\n  // or valid js string and variable name to use\r\n  var buildSumFunction = function(functionToUse, variableToUse, variableType) {\r\n    var retFunction;\r\n    var count = dataPointsPerHex => dataPointsPerHex.length;\r\n    // Default to using count\r\n    if(functionToUse == \"count\" || variableToUse === undefined) return count;\r\n    if(!summaryFunctions.includes(functionToUse)) {\r\n      console.warn(\"Using Custom Function as no supported functions were matched\");\r\n      // User defined function\r\n      retFunction = Function('\"use strict\";return (' + functionToUse + ')');\r\n    } else {\r\n      retFunction = function(dataPointsPerHex) {\r\n        // Set the inital value for the result\r\n        var result = 0;\r\n        if(functionToUse == \"max\") result = Number.MIN_VALUE;\r\n        if(functionToUse == \"min\") result = Number.MAX_VALUE;\r\n        if(functionToUse == \"sum\") result = 0;\r\n\r\n        console.log(dataPointsPerHex.length);\r\n        if(functionToUse == \"median\") {\r\n          var values = dataPointsPerHex.map(point => point.o[2][variableToUse]);\r\n          if(values.length < 3) {\r\n            if(values.length == 1) result = values[0];\r\n            else if(values.length == 0) result = 0;\r\n            else result = (values[0] + values[1]) / 2;\r\n          } else {\r\n            values.sort((a, b) => a - b);\r\n            var index = (values.length + 1) / 2;\r\n            if(Number.isInteger(index)) {\r\n              result = values[index];\r\n            } else {\r\n              result = (values[Math.floor(index)] + values[Math.ceil(index)]) / 2;\r\n            }\r\n          }\r\n\r\n        } else {\r\n          dataPointsPerHex.forEach(point => {\r\n            var value = point.o[2][variableToUse];\r\n            if(functionToUse == \"mean\") result += value;\r\n            if(functionToUse == \"sum\") result += value;\r\n            if(functionToUse == \"max\") result = result > value ? result : value;\r\n            if(functionToUse == \"min\") result = result < value ? result : value;\r\n          });\r\n          if(functionToUse == \"mean\") result /= dataPointsPerHex.length;\r\n          if(variableType == \"size\") result = scaleFunctions[variableToUse](result);\r\n        }\r\n        return result;\r\n      };\r\n      return retFunction;\r\n    }\r\n  };\r\n\r\n  // Add Options to hexlayer\r\n  var hexLayer = L.hexbinLayer(options).addTo(this);\r\n\r\n  // Add ColorScale\r\n  var colorScale = [options.lowEndColor, options.highEndColor];\r\n  if(data.uniformColor !== null && data.uniformColor !== undefined) {\r\n    colorScale = [data.uniformColor, data.uniformColor];\r\n  }\r\n  hexLayer.colorScale().range(colorScale);\r\n\r\n  // Set Radius range based on radius given through data parameter\r\n  var largestRadius = options.radius - 1 / options.radius; // 1/radius is a small buffer between hexagons\r\n  var smallestRadius = options.radius / 2;\r\n  if(options.uniformSize) smallestRadius = largestRadius;\r\n  var radRange = [ smallestRadius, largestRadius ];\r\n\r\n  // Add Data to the Hex Layer\r\n  var hexData = [];\r\n\r\n  // Check if variable is an array with the same length as the latitute and longitude arrays\r\n  var variableIsCompatible = entry => Array.isArray(entry) && entry.length == data.mapData.lat.length;\r\n  var scaleFunctions = {};\r\n  // Find any variables that may be involved in the hexbin\r\n  var auxData = Object.assign({}, data.mapData);\r\n  Object.keys(auxData).forEach(key => {\r\n    if(key == \"lat\" || key == \"lng\") {\r\n      delete auxData[key];\r\n    } else if(variableIsCompatible(auxData[key])) {\r\n      var array = auxData[key];\r\n      var min = Math.min(...array);\r\n      var max = Math.max(...array);\r\n      var radSizeRange = (largestRadius - smallestRadius);\r\n      var variableRange = (max - min);\r\n      scaleFunctions[key] = function(variableValue) {\r\n        return (((variableValue - min) * radSizeRange) / variableRange) + smallestRadius;\r\n      };\r\n    } else {\r\n      delete auxData[key];\r\n    }\r\n  });\r\n\r\n  for(i=0; i< data.mapData.lat.length; i++){\r\n    var tuple = [data.mapData.lat[i], data.mapData.lng[i]];\r\n    hexData.push(tuple);\r\n  }\r\n  if(auxData !== undefined) {\r\n    for(i=0; i < hexData.length; i++) {\r\n      var extraVarContainer = {};\r\n      if(options.sizevar !== undefined) {\r\n        extraVarContainer[options.sizevar] = auxData[options.sizevar][i];\r\n      }\r\n      if(options.colorvar !== undefined) {\r\n        extraVarContainer[options.colorvar] = auxData[options.colorvar][i];\r\n      }\r\n      hexData[i].push(extraVarContainer);\r\n    }\r\n  }\r\n  // hexData is now an Array of arrays (Matrix)\r\n  // 0: [lat0, lng0, somevariable0, anothervariable0]\r\n  // 1: [lat1, lng1, somevariable1, anothervariable1]\r\n  // ...\r\n\r\n  // Create Hex Layer\r\n  hexLayer\r\n  .radiusRange(radRange)\r\n  .lat(function(d) { return d[0]; })\r\n  .lng(function(d) { return d[1]; })\r\n  .colorValue(buildSumFunction(options.colorSummaryFunction, options.colorvar, \"color\"))\r\n  .radiusValue(buildSumFunction(options.sizeSummaryFunction, options.sizevar, \"size\")) // Choose summary function based off of parameter inside the data object\r\n  .data(hexData);\r\n\r\n\r\n  // Zoom in to fit the data in the screen\r\n  this.fitBounds(hexData);\r\n\r\n}).call(this.getMap(), el, x, data);\n}","data":{"radius":20,"highEndColor":"yellow","mapData":{"lat":[41.7515642142105,42.2497908841126,42.4233964941227,43.1642059753766,41.6505575631596,44.8377201329599,43.0048373667679,43.0394885252637,43.1065638577785,42.6188935943255,41.8473546966038,43.5017373250914,42.8469518825982,43.057410768356,42.9025552311147,43.9390105473835,43.0404621209615,42.5203144034141,44.8378783648672,44.0852170801969,42.2998173602084,43.7096165268763,41.3722706557495,44.2692437753751,42.8723533989575,41.3613706880175,42.644113829414,42.2115607466165,43.4230036547546,41.6524685176234,41.980959197866,43.4911829270115,44.165337096069,43.5597809490711,43.352867465884,42.1077186037449,43.7332150385773,40.9912986922144,42.8809162947789,43.8806997572695,43.6103300489155,44.0025837897935,43.5564067417317,42.5246094750405,43.4736334743718,43.6736781014355,43.0562529215995,43.5874771816835,41.0534764389336,43.4220130096991,43.2234103508513,43.9496248010319,41.6975480325629,41.9116020594285,43.1739007149973,42.6887809491454,42.1271755226249,43.0070661330954,42.613871634324,44.2047396854997,43.2137291263809,42.5792143298157,40.4718606878364,43.3273325220422,42.7336438423971,44.9648254579084,43.2062694705312,41.0649223107329,42.2606330934059,42.5679229095133,43.8243802408642,43.2043798187155,42.7539190126401,43.6057232481975,41.5801221848413,42.0155817147038,42.2495335604014,43.1951934332585,40.7906570612033,42.6046985498296,43.0941599024202,44.6288160530389,44.6883207207702,42.6806282474702,44.0798942939506,42.8902412211165,42.9449774276501,42.1250746136233,41.6170686281944,43.611703046992,42.1598118712479,43.8306327009733,41.8119417022954,42.91559625681,41.978906368629,43.9934117084507,43.6197394665995,43.5228089893027,43.972123714128,43.420685940438],"lng":[-86.1655731098539,-85.316603687757,-85.3778426463595,-86.2130817096146,-86.1330155166974,-87.2483593700702,-87.6480810773092,-84.8243989606212,-86.2653235059815,-86.1686866931554,-87.5685565595805,-86.8785020538203,-85.63079092828,-86.3564850797125,-86.0633215355312,-86.7504959461931,-84.5037695987194,-85.385229435269,-84.0925937351599,-85.5404809742005,-84.6564675368051,-85.9206721486015,-84.5755932619905,-86.5512301984343,-85.2365982309716,-85.8763395547494,-86.7071427651195,-85.4501384881157,-87.1659913554111,-86.1014342220677,-85.4081896357414,-85.3865050173506,-86.6187546575017,-85.9000790522244,-86.4611271063881,-85.4418414883425,-85.1054120792516,-86.3638289143243,-85.6781398756969,-85.091775954119,-85.6269834104234,-84.7630320129118,-85.2586361685658,-84.9579213397312,-85.0357690745477,-85.3599080557777,-86.1465703765462,-86.2344358612845,-84.9561317237555,-85.4453054125546,-86.7417278084417,-86.1336573608804,-84.9669342774269,-85.6926688478912,-84.6954884697456,-85.5859889593378,-85.5415864759095,-85.085938598297,-85.5651663207257,-85.3646306905957,-85.2050464651262,-84.8153817770701,-84.5371870151651,-86.1877303270492,-87.2626388485357,-84.9051119002431,-85.4177052849312,-87.364088527901,-83.3290846471718,-86.4918161681853,-86.1907543813337,-84.6448943837102,-86.3759190643278,-85.1885099379542,-83.7557787781145,-83.9239600539539,-84.4130381537061,-85.0220045084663,-84.7702919917259,-86.4288360182256,-84.3283470191412,-84.8664837605091,-85.0808693821686,-85.8270311622329,-85.4255287165659,-85.4076088368627,-86.397432553623,-84.663763300115,-84.0711055667416,-85.5232393492463,-85.6154457288405,-87.3753966808672,-85.0730504341975,-85.5080385640996,-85.6525407210388,-85.4121800399752,-85.8008582478816,-85.9388393595274,-84.8539567564385,-85.8713546895032],"size":[13.8106816948857,5.04101622500457,6.22424423345365,12.4748323264066,12.7370105148293,17.5880568125285,17.1662816801108,16.5418867510743,8.21402253350243,18.6341534240637,15.8223468239885,11.8450014886912,6.24994531041011,15.3867645317223,5.79544063075446,7.15774196549319,17.0581530546769,15.1920118392445,11.0189108084887,14.0878925088327,15.3743637888692,5.66816183272749,17.1940498845652,7.04147763433866,19.4001205766108,5.24878008640371,7.43671184405684,15.380551648559,12.7136404241901,11.3275742705446,7.12955705821514,16.530790172983,6.45647573634051,12.8339392656926,13.6330253188498,19.7133867617231,15.6958034227137,19.0530717838556,8.36153704090975,6.76190414000303,15.9134989522863,12.9895495285746,19.2122846620623,17.2596044593956,15.9867313713767,10.9751388512086,8.82309440057725,8.06181460386142,10.1046942616813,6.39357322710566,8.19790542242117,10.1762690092437,6.76882040454075,6.06262074084952,18.3952925587073,11.7357172537595,14.669093695702,10.9584597754292,5.35084656672552,14.6960392862093,19.0376346930861,12.954636621289,14.3783060321584,17.4669717624784,5.74363471358083,13.4051795245614,6.94309264654294,19.2121601523831,12.5010306527838,8.93070805235766,14.458249254385,12.7550428314134,16.2403434573207,12.8576019057073,14.1782367927954,16.3035583635792,16.4627614803612,17.5183260766789,13.7742513138801,15.2000031771604,14.132772043813,8.65036103408784,6.76610797178,9.79496654937975,5.72754089371301,8.46382124116644,5.35412674071267,9.95413230382837,11.8911941954866,19.1870248084888,16.6007273446303,8.44235605327412,19.8112323670648,6.48241490824148,12.790358136408,7.0290825876873,6.62111072451808,9.45363040082157,10.2576977107674,16.8411378352903],"color":["olivedrab2","black","indianred2","seashell3","orchid2","violetred1","lightgoldenrod4","wheat2","khaki2","grey10","grey53","slateblue4","salmon","grey86","turquoise","yellow2","honeydew1","palevioletred3","grey35","olivedrab4","navajowhite3","azure1","darkmagenta","palevioletred1","grey72","darkolivegreen4","snow2","palegreen4","gray42","lightgoldenrod2","aquamarine4","palegreen1","grey32","gray2","lightsalmon2","oldlace","grey76","peachpuff3","gray82","grey2","springgreen2","seagreen2","maroon4","snow4","slategray1","seagreen1","gold2","gray79","antiquewhite4","grey74","slateblue2","peru","darkseagreen3","grey84","brown4","grey54","chartreuse1","gray86","bisque","lightskyblue3","lightblue4","paleturquoise2","gray92","forestgreen","chocolate","gray13","grey50","gray62","lightblue1","violetred","grey55","gray76","gray61","grey93","gray23","gray44","hotpink4","mediumpurple2","magenta","gray69","darkorchid1","darkseagreen2","grey65","plum2","mediumseagreen","purple2","darkgreen","peachpuff4","burlywood3","maroon1","violetred2","grey39","turquoise3","gray27","slateblue","limegreen","lightcyan","seagreen4","gray64","azure2"]}}}]}}</script><div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb3-1" title="1"><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/args">args</a></span>(addJS)</a>
<a class="sourceLine" id="cb3-2" title="2"><span class="co">#&gt; function (map, data = NULL, ...) </span></a>
<a class="sourceLine" id="cb3-3" title="3"><span class="co">#&gt; NULL</span></a>
<a class="sourceLine" id="cb3-4" title="4"><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/args">args</a></span>(add_hexbin)</a>
<a class="sourceLine" id="cb3-5" title="5"><span class="co">#&gt; function (map, data = NULL, radius = 12, opacity = 0.5, duration = 500, </span></a>
<a class="sourceLine" id="cb3-6" title="6"><span class="co">#&gt;     lowEndColor = "white", highEndColor = "blue", uniformSize = FALSE, </span></a>
<a class="sourceLine" id="cb3-7" title="7"><span class="co">#&gt;     uniformColor = NULL, sizeSummaryFunction = "count", sizevar = NULL, </span></a>
<a class="sourceLine" id="cb3-8" title="8"><span class="co">#&gt;     colorSummaryFunction = "count", colorvar = NULL) </span></a>
<a class="sourceLine" id="cb3-9" title="9"><span class="co">#&gt; NULL</span></a></code></pre></div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
      </div>

</div>


      <footer><div class="copyright">
  <p>Developed by Randall Pruim, Jason Klaassen.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.3.0.</p>
</div>
      </footer>
</div>

  

  </body>
</html>
